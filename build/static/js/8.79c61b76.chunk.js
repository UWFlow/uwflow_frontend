(this.webpackJsonpflow_frontend=this.webpackJsonpflow_frontend||[]).push([[8,12],{140:function(n,t,e){"use strict";var r=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN},a=function(n){var t;return 1===n.length&&(t=n,n=function(n,e){return r(t(n),e)}),{left:function(t,e,r,a){for(null==r&&(r=0),null==a&&(a=t.length);r<a;){var c=r+a>>>1;n(t[c],e)<0?r=c+1:a=c}return r},right:function(t,e,r,a){for(null==r&&(r=0),null==a&&(a=t.length);r<a;){var c=r+a>>>1;n(t[c],e)>0?a=c:r=c+1}return r}}};var c=a(r),o=c.right,u=(c.left,o);var i=function(n){return null===n?NaN:+n},l=Array.prototype,f=(l.slice,l.map,function(n,t,e){n=+n,t=+t,e=(a=arguments.length)<2?(t=n,n=0,1):a<3?1:+e;for(var r=-1,a=0|Math.max(0,Math.ceil((t-n)/e)),c=new Array(a);++r<a;)c[r]=n+r*e;return c}),d=Math.sqrt(50),b=Math.sqrt(10),p=Math.sqrt(2),m=function(n,t,e){var r,a,c,o,u=-1;if(e=+e,(n=+n)===(t=+t)&&e>0)return[n];if((r=t<n)&&(a=n,n=t,t=a),0===(o=s(n,t,e))||!isFinite(o))return[];if(o>0)for(n=Math.ceil(n/o),t=Math.floor(t/o),c=new Array(a=Math.ceil(t-n+1));++u<a;)c[u]=(n+u)*o;else for(n=Math.floor(n*o),t=Math.ceil(t*o),c=new Array(a=Math.ceil(n-t+1));++u<a;)c[u]=(n-u)/o;return r&&c.reverse(),c};function s(n,t,e){var r=(t-n)/Math.max(0,e),a=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,a);return a>=0?(c>=d?10:c>=b?5:c>=p?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(c>=d?10:c>=b?5:c>=p?2:1)}function v(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),c=r/a;return c>=d?a*=10:c>=b?a*=5:c>=p&&(a*=2),t<n?-a:a}var g=function(n,t,e){if(null==e&&(e=i),r=n.length){if((t=+t)<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,a=(r-1)*t,c=Math.floor(a),o=+e(n[c],c,n);return o+(+e(n[c+1],c+1,n)-o)*(a-c)}};e.d(t,"b",(function(){return u})),e.d(t,"a",(function(){return r})),e.d(t,"c",(function(){return a})),e.d(t,"d",(function(){return g})),e.d(t,"e",(function(){return f})),e.d(t,"h",(function(){return m})),e.d(t,"f",(function(){return s})),e.d(t,"g",(function(){return v}))},156:function(n,t,e){n.exports=e.p+"static/media/404_v1.530dd1a3.svg"},160:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),c=e(36),o=e(35),u=e(10),i=e(3),l=e(4),f=e(45),d=e(156),b=e.n(d),p=e(8);function m(){var n=Object(i.a)(["\n  width: 100%;\n  height: 100vh;\n  margin-bottom: 16px;\n  max-width: 300px;\n  max-height: 300px;\n  background: no-repeat center center url(",");\n"]);return m=function(){return n},n}function s(){var n=Object(i.a)(["\n  ","\n  ","\n  max-width: 100%;\n  color: white;\n"]);return s=function(){return n},n}function v(){var n=Object(i.a)(["\n    height: auto;\n    padding: 32px 16px;\n  "]);return v=function(){return n},n}function g(){var n=Object(i.a)(["\n  display: flex;\n  align-items: flex-end;\n  width: 100%;\n  height: 150px;\n  background: ",";\n  padding-bottom: 32px;\n  ","\n"]);return g=function(){return n},n}function h(){var n=Object(i.a)(["\n  ","\n  margin-bottom: 40px;\n"]);return h=function(){return n},n}function j(){var n=Object(i.a)(["\n  ","\n  align-items: center;\n  text-align: center;\n"]);return j=function(){return n},n}var O=l.c.div(j(),p.j),x=(l.c.div(h(),p.e),l.c.div(g(),(function(n){return n.theme.primaryExtraDark}),Object(f.a)("mobile","tablet")(v()))),w=l.c.div(s(),p.i,p.e),y=l.c.div(m(),b.a);t.default=Object(c.g)((function(n){var t=n.text,e=n.history,r=t||"Sorry, this page doesn't exist!";return a.a.createElement(O,null,a.a.createElement(x,null,a.a.createElement(w,null,r)),a.a.createElement(y,null),a.a.createElement(o.a,{handleClick:function(){e.push(u.d)}},"Home"))}))},206:function(n,t,e){"use strict";var r=e(3),a=e(21),c=e.n(a);function o(){var n=Object(r.a)(["\n    fragment ProfCoursesTaughtFragment on prof {\n      id\n      prof_courses {\n        course {\n          id\n          code\n        }\n      }\n    }\n  "]);return o=function(){return n},n}function u(){var n=Object(r.a)(["\n    fragment ProfInfoFragment on prof {\n      id\n      name\n      code\n    }\n  "]);return u=function(){return n},n}var i={profInfo:c()(u()),profCoursesTaught:c()(o())};t.a=i},496:function(n,t,e){n.exports=e.p+"static/media/prof_v1.1bfb3f98.svg"},515:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),c=e(36),o=e(62),u=e(3),i=e(4),l=e(45),f=e(8);function d(){var n=Object(u.a)(["\n    width: 100%;\n    order: 1;\n  "]);return d=function(){return n},n}function b(){var n=Object(u.a)(["\n  ","\n\n  ","\n"]);return b=function(){return n},n}function p(){var n=Object(u.a)(["\n    width: 100%;\n    padding: 0;\n    order: 2;\n  "]);return p=function(){return n},n}function m(){var n=Object(u.a)(["\n  ","\n\n  ","\n"]);return m=function(){return n},n}function s(){var n=Object(u.a)(["\n  ","\n  display: flex;\n  flex-flow: row wrap;\n"]);return s=function(){return n},n}function v(){var n=Object(u.a)(["\n  ","\n  background-color: ",";\n"]);return v=function(){return n},n}var g=i.c.div(v(),f.j,(function(n){return n.theme.light1})),h=i.c.div(s(),f.i),j=i.c.div(m(),f.m,Object(l.a)("mobile","tablet")(p())),O=i.c.div(b(),f.l,Object(l.a)("mobile","tablet")(d())),x=e(50),w=e(160),y=e(496),E=e.n(y);function k(){var n=Object(u.a)(["\n    position: absolute;\n    right: 0;\n    bottom: 32px;\n  "]);return k=function(){return n},n}function _(){var n=Object(u.a)(["\n    width: 100%;\n  "]);return _=function(){return n},n}function M(){var n=Object(u.a)(["\n  ","\n\n  ","\n"]);return M=function(){return n},n}function C(){var n=Object(u.a)(["\n    margin-top: 48px;\n    max-width: calc(100% - ","px);\n  "]);return C=function(){return n},n}function P(){var n=Object(u.a)(["\n    margin-bottom: 16px;\n    padding: 0 16px;\n    min-width: 100%;\n  "]);return P=function(){return n},n}function S(){var n=Object(u.a)(["\n  ","\n  position: relative;\n  margin: auto 0;\n  max-width: calc(100% - ","px);\n  vertical-align: middle;\n  color: ",";\n\n  ","\n\n  ","\n"]);return S=function(){return n},n}function D(){var n=Object(u.a)(["\n    ","\n    padding-bottom: 48px;\n    margin: auto;\n  "]);return D=function(){return n},n}function N(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  position: relative;\n\n  ","\n"]);return N=function(){return n},n}function B(){var n=Object(u.a)(["\n    max-width: calc(100% - ","px);\n  "]);return B=function(){return n},n}function F(){var n=Object(u.a)(["\n    padding: 0 16px;\n    min-width: 100%;\n  "]);return F=function(){return n},n}function I(){var n=Object(u.a)(["\n  color: ",";\n  ","\n\n  ","\n\n  ","\n"]);return I=function(){return n},n}function A(){var n=Object(u.a)(["\n    margin-bottom: 0;\n  "]);return A=function(){return n},n}function Y(){var n=Object(u.a)(["\n  ","\n  margin: auto;\n  margin-bottom: 48px;\n\n  ","\n"]);return Y=function(){return n},n}function R(){var n=Object(u.a)(["\n    min-height: 320px;\n  "]);return R=function(){return n},n}function q(){var n=Object(u.a)(["\n    padding: 24px 16px;\n  "]);return q=function(){return n},n}function T(){var n=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  background-image: url(",");\n  background-color: ",";\n  background-size: cover;\n  position: relative;\n  min-height: 120px;\n  padding: 16px;\n\n  ","\n\n  ","\n"]);return T=function(){return n},n}function W(){var n=Object(u.a)(["\n  width: 100%;\n  margin-bottom: 32px;\n  display: flex;\n  background-color: ",";\n  flex-direction: column;\n  position: relative;\n"]);return W=function(){return n},n}var z=i.c.div(W(),(function(n){return n.theme.white})),L=i.c.div(T(),E.a,(function(n){return n.theme.primaryExtraDark}),Object(l.a)("mobile","tablet")(q()),Object(l.a)("tablet")(R())),H=i.c.div(Y(),f.i,Object(l.a)("mobile","tablet")(A())),J=i.c.div(I(),(function(n){return n.theme.white}),f.d,Object(l.a)("mobile","tablet")(F()),Object(l.a)("tablet")(B(),(function(n){return n.ratingBoxWidth}))),$=i.c.div(N(),Object(l.a)("tablet")(D(),f.i)),G=i.c.div(S(),f.f,(function(n){return n.ratingBoxWidth}),(function(n){return n.theme.dark2}),Object(l.a)("mobile","tablet")(P()),Object(l.a)("tablet")(C(),(function(n){return n.ratingBoxWidth}))),K=i.c.div(M(),Object(l.a)("mobile","tablet")(_()),Object(l.a)("tablet")(k())),Q=e(269),U=e(75),V=function(n){var t=n.prof,e=t.reviews_aggregate.aggregate.avg,r=e.liked,c=e.prof_clear,o=e.prof_engaging,u=t.reviews_aggregate.aggregate,i=u.count,l=u.prof_comment_count,f=t.prof_courses.map((function(n){return Object(U.h)(n.course.code)}));return a.a.createElement(z,null,a.a.createElement(L,null,a.a.createElement(H,null,a.a.createElement(J,{ratingBoxWidth:Q.b},t.name))),a.a.createElement($,null,a.a.createElement(K,{ratingBoxHeight:Q.a},a.a.createElement(Q.c,{numRatings:i,numComments:l,percentages:[{displayName:"Likes",percent:r},{displayName:"Clear",percent:c/5},{displayName:"Engaging",percent:o/5}]})),a.a.createElement(G,{ratingBoxWidth:Q.b},f.length>0?"Currently teaches ".concat(f.join(", ")):"Not currently teaching anything")))},X=e(29),Z=e(48),nn=e(7),tn=e(205),en=e.n(tn),rn=function(n){if(!n)return{reviewsByCourse:[],courses:[]};var t=n.review.reduce((function(n,t){var e,r=!1,a=!0,c=!1,o=void 0;try{for(var u,i=n[Symbol.iterator]();!(a=(u=i.next()).done);a=!0){var l=u.value;if(t.course&&t.course.id===l.id){e=l,r=!0;break}}}catch(f){c=!0,o=f}finally{try{a||null==i.return||i.return()}finally{if(c)throw o}}return r||(e={id:t.course?t.course.id:-1,name:t.course?t.course.name:"",code:t.course?t.course.code:"",liked:t.course?t.course.reviews_aggregate.aggregate.avg.liked:0,reviews:[]},n.push(e)),e.reviews.push({id:t.id,upvotes:t.prof_review_upvotes_aggregate.aggregate.count,upvote_users:t.prof_review_upvotes.map((function(n){return Number(n.user_id)})),review:t.prof_comment,author:t.author,user:t.user,created_at:t.created_at,updated_at:t.updated_at,metrics:{clear:t.prof_clear,engaging:t.prof_engaging}}),n}),[]),e=t.map((function(n){return n.code}));return{reviewsByCourse:t,courses:e}},an=function(n){var t=Object(r.useState)(rn(n)),e=Object(nn.a)(t,2),a=e[0],c=e[1];return[a,function(n){var t=function(n,t){switch(t.type){case"update review data":return rn(t.payload);default:return n}}(a,n);c(t)}]},cn=e(27);function on(){var n=Object(u.a)(["\n  ","\n  cursor: pointer;\n"]);return on=function(){return n},n}function un(){var n=Object(u.a)(["\n  background: ",";\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  cursor: pointer;\n"]);return un=function(){return n},n}function ln(){var n=Object(u.a)(["\n    width: 100%;\n  "]);return ln=function(){return n},n}function fn(){var n=Object(u.a)(["\n  ","\n  width: 64px;\n  margin-left: 16px;\n\n  ","\n"]);return fn=function(){return n},n}function dn(){var n=Object(u.a)(["\n    font-size: 32px;\n  "]);return dn=function(){return n},n}function bn(){var n=Object(u.a)(["\n  ","\n\n  ","\n"]);return bn=function(){return n},n}function pn(){var n=Object(u.a)(["\n    margin: 8px 16px 0 16px;\n  "]);return pn=function(){return n},n}function mn(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n\n  ","\n"]);return mn=function(){return n},n}function sn(){var n=Object(u.a)(["\n  ","\n  color: ",";\n"]);return sn=function(){return n},n}function vn(){var n=Object(u.a)(["\n    padding: 24px 16px;\n    border-bottom: 1px solid ",";\n    background-color: white;\n    margin: 0 0 32px 0;\n  "]);return vn=function(){return n},n}function gn(){var n=Object(u.a)(["\n  display: flex;\n  margin: 16px 32px 32px 0;\n  align-items: center;\n\n  ","\n"]);return gn=function(){return n},n}function hn(){var n=Object(u.a)(["\n    margin: 16px 16px 0 16px;\n  "]);return hn=function(){return n},n}function jn(){var n=Object(u.a)(["\n  ","\n  font-size: 24px;\n\n  ","\n"]);return jn=function(){return n},n}function On(){var n=Object(u.a)(["\n    margin: 16px 16px 0 16px;\n  "]);return On=function(){return n},n}function xn(){var n=Object(u.a)(["\n  ","\n  color: ",";\n  margin-bottom: 16px;\n\n  ","\n"]);return xn=function(){return n},n}function wn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return wn=function(){return n},n}function yn(){var n=Object(u.a)(["\n    flex-direction: column;\n    align-items: flex-start;\n    margin-bottom: 0;\n  "]);return yn=function(){return n},n}function En(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  margin-right: 24px;\n\n  ","\n"]);return En=function(){return n},n}function kn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return kn=function(){return n},n}function _n(){var n=Object(u.a)(["\n    padding: 32px 32px 0 32px;\n  "]);return _n=function(){return n},n}function Mn(){var n=Object(u.a)(["\n  ","\n"]);return Mn=function(){return n},n}function Cn(){var n=Object(u.a)(["\n  ","\n  ","\n  padding-bottom: 0;\n  margin-bottom: 32px;\n"]);return Cn=function(){return n},n}function Pn(){var n=Object(u.a)(["\n  display: flex;\n  padding: 32px;\n  background: white;\n  align-items: center;\n  justify-content: flex-start;\n  ","\n  color: ","\n"]);return Pn=function(){return n},n}function Sn(){var n=Object(u.a)(["\n    padding: 32px 0 0 0;\n  "]);return Sn=function(){return n},n}function Dn(){var n=Object(u.a)(["\n  ","\n  ","\n  padding-bottom: 0;\n  padding-top: 16px;\n  margin-bottom: 32px;\n\n  ","\n"]);return Dn=function(){return n},n}function Nn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  color: ",";\n"]);return Nn=function(){return n},n}var Bn=i.c.div(Nn(),(function(n){return n.theme.dark2})),Fn=i.c.div(Dn(),Object(f.c)(),f.b,Object(l.a)("mobile","tablet")(Sn())),In=i.c.div(Pn(),f.f,(function(n){return n.theme.dark2})),An=i.c.div(Cn(),Object(f.c)("0"),f.b),Yn=i.c.div(Mn(),Object(l.a)("tablet")(_n())),Rn=(i.c.div(kn()),i.c.div(En(),Object(l.a)("mobile","tablet")(yn()))),qn=i.c.div(wn()),Tn=Object(i.c)(cn.a)(xn(),f.e,(function(n){return n.theme.courses}),Object(l.a)("mobile","tablet")(On())),Wn=i.c.div(jn(),f.e,Object(l.a)("mobile","tablet")(hn())),zn=i.c.div(gn(),Object(l.a)("mobile","tablet")(vn(),(function(n){return n.theme.light2}))),Ln=i.c.div(sn(),f.g,(function(n){return n.theme.dark1})),Hn=i.c.div(mn(),Object(l.a)("mobile","tablet")(pn())),Jn=i.c.div(bn(),f.d,Object(l.a)("mobile","tablet")(dn())),$n=i.c.div(fn(),f.a,Object(l.a)("mobile","tablet")(ln())),Gn=i.c.div(un(),(function(n){return n.theme.light3})),Kn=i.c.div(on(),f.g),Qn=e(270),Un=e(77),Vn=e(267),Xn=e(10),Zn=e(18);function nt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}var tt=Object(i.e)((function(n){var t=n.profID,e=n.theme,c=Object(r.useState)(0),u=Object(nn.a)(c,2),i=u[0],l=u[1],f=Object(r.useState)(Array(1).fill(0)),d=Object(nn.a)(f,2),b=d[0],p=d[1],m=Object(o.b)(Vn.a,{variables:{id:t}}),s=m.loading,v=m.data,g=an(v),h=Object(nn.a)(g,2),j=h[0],O=h[1],w=Object(r.useState)({}),y=Object(nn.a)(w,2),E=y[0],k=y[1];if(Object(r.useEffect)((function(){v&&O({type:"update review data",payload:v})}),[v]),s)return a.a.createElement(Bn,null,a.a.createElement(x.a,null));var _=["show all courses"].concat(Object(Z.a)(j.courses)),M=["show all courses"].concat(Object(Z.a)(j.courses.map((function(n){return Object(U.h)(n)})))),C=j.reviewsByCourse.filter((function(n){return 0===i||n.code===_[i]})),P=b.length>=C.length?b.slice():[].concat(Object(Z.a)(b),Object(Z.a)(Array(C.length-b.length).fill(0)));return 0===j.courses.length?a.a.createElement(In,null,"No Reviews"):a.a.createElement(Bn,null,a.a.createElement(Fn,null,a.a.createElement(zn,null,a.a.createElement(Ln,null,"Filter by course: "),a.a.createElement(Un.a,{color:e.courses,selectedIndex:i,options:M,onChange:function(n){return l(n)},zIndex:5}))),C.map((function(n,t){return a.a.createElement(An,{key:t},a.a.createElement(Yn,null,a.a.createElement(Rn,{key:n.id},a.a.createElement(qn,null,a.a.createElement(Tn,{to:Object(Xn.i)(n.code)},Object(U.h)(n.code)),a.a.createElement(Wn,null,n.name)),a.a.createElement(Hn,null,a.a.createElement(Jn,null,Math.round(100*n.liked),"%"),a.a.createElement($n,null,"liked this course"))),a.a.createElement(zn,null,a.a.createElement(Ln,null,"Sort by: "),a.a.createElement(Un.a,{color:e.primary,selectedIndex:P[t],options:["most recent","most helpful"],onChange:function(n){P[t]=n,p(P)}})),n.reviews.sort((function(n,e){var r=en()(e.created_at).format("YYYYMMDD")-en()(n.created_at).format("YYYYMMDD");return 0===b[t]?r:e.upvotes===n.upvotes?r:e.upvotes-n.upvotes})).filter((function(t,e){return e<Zn.d||E[n.code]})).map((function(n,t){return a.a.createElement(Qn.a,{key:t,review:n,isCourseReview:!1})}))),n.reviews.length>Zn.d&&a.a.createElement(Gn,{onClick:function(){return k(function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?nt(e,!0).forEach((function(t){Object(X.a)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):nt(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}({},E,Object(X.a)({},n.code,!E[n.code])))}},a.a.createElement(Kn,null,E[n.code]?"Show less reviews":"Show all ".concat(n.reviews.length," reviews"))))})))})),et=e(21),rt=e.n(et),at=e(206),ct=e(76);function ot(){var n=Object(u.a)(["\n  query GET_PROF($code: String) {\n    prof(where: { code: { _eq: $code } }) {\n      ...ProfInfoFragment\n      ...ProfCoursesTaughtFragment\n      ...ProfReviewAggregateFragment\n    }\n  }\n  ","\n  ","\n  ","\n"]);return ot=function(){return n},n}var ut=rt()(ot(),at.a.profInfo,at.a.profCoursesTaught,ct.a.profReviewAggregate);e.d(t,"ProfPage",(function(){return lt}));var it=function(n){var t=n.prof;return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,{prof:t}),a.a.createElement(h,null,a.a.createElement(j,null,a.a.createElement(tt,{profID:t.id})),a.a.createElement(O,null)))},lt=function(n){var t=n.match.params.profCode.toLowerCase(),e=Object(o.b)(ut,{variables:{code:t}}),r=e.loading,c=e.error,u=e.data;return r?a.a.createElement(g,null,a.a.createElement(x.a,null)):c||!u||0===u.prof.length?a.a.createElement(w.default,{text:"Sorry, we couldn't find that professor!"}):a.a.createElement(g,null,a.a.createElement(it,{prof:u.prof[0]}))};t.default=Object(c.g)(lt)}}]);
//# sourceMappingURL=8.79c61b76.chunk.js.map