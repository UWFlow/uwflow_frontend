{"version":3,"sources":["index.jsx","data/reducers/HistoryReducer.jsx","data/reducers/DataReducer.jsx","data/actions/HistoryActions.jsx","Store.jsx","Routes.jsx","LoadableComponents.jsx","desktop/components/common/NoMatchRedirect.jsx","App.jsx","utils/History.jsx"],"names":["store","history","DEFAULT_STATE","histories","reducers","state","arguments","length","undefined","action","type","Object","objectSpread","concat","toConsumableArray","payload","newHistories","slice","combineReducers","rootReducer","data","DataReducer","loggerMiddleware","createLogger","predicate","process","middleware","thunk","pathToRegexp","compile","LoadableLandingPage","Loadable","loader","__webpack_require__","e","then","bind","loading","LoadableProfilePage","LoadableComponents","window","LOADER_PRIORITY","requestIdleCallback","loadAndRecurse","priorityIndex","preload","NoMatchRedirect","_ref","location","search","hash","react_default","a","createElement","Redirect","to","pathname","withRouter","Switch","Route","exact","path","component","console","log","createStore","applyMiddleware","apply","createBrowserHistory","createHistory","listen","dispatch","nextUrl","syncReduxHistory","initializePreloadLoadableComponents","getState","ReactDOM","render","es","Router","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3d772bc0.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { Router } from 'react-router-dom';\r\nimport { configureStore } from './Store';\r\nimport createHistory from './utils/History';\r\n\r\n/* Child Components */\r\nimport App from './App';\r\n\r\n/* Util */\r\nimport initializePreloadLoadableComponents from './LoadableComponents';\r\nimport { syncReduxHistory } from './utils/History';\r\n\r\nconst StartApp = (store, history) => {\r\n  syncReduxHistory(store, history);\r\n  initializePreloadLoadableComponents(store.getState());\r\n\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <Router history={history}>\r\n        <App />\r\n      </Router>\r\n    </Provider>,\r\n    document.getElementById('root'),\r\n  );\r\n};\r\n\r\nStartApp(configureStore(), createHistory());\r\n","/* Actions */\r\nimport { HISTORY_FORWARD, HISTORY_BACK } from '../actions/HistoryActions';\r\n\r\nconst DEFAULT_STATE = { histories: [] };\r\n\r\nexport default (state = DEFAULT_STATE, action) => {\r\n  switch (action.type) {\r\n    case HISTORY_FORWARD:\r\n      return {\r\n        ...state,\r\n        histories: [...state.histories, action.payload],\r\n      };\r\n    case HISTORY_BACK:\r\n      const newHistories = state.histories.slice(0, -1);\r\n      return {\r\n        ...state,\r\n        histories: newHistories,\r\n      };\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n};","import { combineReducers } from 'redux';\r\n\r\n/* Reducers */\r\nimport HistoryReducer from './HistoryReducer';\r\n\r\nconst reducers = { history: HistoryReducer }\r\n\r\nexport default combineReducers(reducers)","export const HISTORY_FORWARD = 'HISTORY_FORWARD';\r\nexport const HISTORY_BACK = 'HISTORY_BACK';\r\n\r\nexport const NATIVE_HISTORY_POP = 'POP';\r\nexport const NATIVE_HISTORY_PUSH = 'PUSH';\r\n\r\nexport const historyForward = (url) => ({\r\n  type: HISTORY_FORWARD,\r\n  payload: url,\r\n});\r\n\r\nexport const historyBack = () => ({\r\n  type: HISTORY_BACK,\r\n});","import { combineReducers } from 'redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\n\r\n/* Middleware */\r\nimport thunk from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\n\r\n/* Reducers */\r\n//import DesktopReducer from './desktop/reducers/DesktopReducer';\r\nimport DataReducer from './data/reducers/DataReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  data: DataReducer,\r\n});\r\n\r\nconst loggerMiddleware = createLogger({\r\n  predicate: () => process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst middleware = [thunk, loggerMiddleware];\r\n\r\nexport const configureStore = defaultState => {\r\n  console.log(`NODE ENV: ${process.env.NODE_ENV}`);\r\n  return createStore(rootReducer, applyMiddleware(...middleware));\r\n};\r\n","/* Utils */\r\nimport pathToRegexp from 'path-to-regexp';\r\n\r\n/* Page Routes */\r\nexport const LANDING_PAGE_ROUTE = '/';\r\nexport const PROFILE_PAGE_ROUTE = '/profile';\r\nexport const COURSE_PAGE_ROUTE = '/course/:courseID';\r\n\r\n/* Route Testers */\r\nexport const LANDING_PAGE_TESTER = pathToRegexp(LANDING_PAGE_ROUTE)\r\nexport const PROFILE_PAGE_TESTER = pathToRegexp(PROFILE_PAGE_ROUTE)\r\nexport const COURSE_PAGE_TESTER = pathToRegexp(COURSE_PAGE_ROUTE)\r\n\r\n/* Page Testers */\r\nexport const isOnLandingPageRoute = (location) => LANDING_PAGE_TESTER.test(location.pathname)\r\nexport const isOnProfilePageRoute = (location) => PROFILE_PAGE_TESTER.test(location.pathname)\r\nexport const isOnCoursePageRoute = (location) => COURSE_PAGE_TESTER.test(location.pathname)\r\n\r\n/* Route Generators */\r\nexport const toCoursePageRoute = pathToRegexp.compile(COURSE_PAGE_ROUTE)\r\n\r\n/* Route Getters */\r\nexport const getCousePageRoute = (courseID) => toCoursePageRoute({courseID})\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nexport const LoadableLandingPage = Loadable({\r\n  loader: () =>\r\n    import(/* webpackChunkName: \"LandingPage.loadable\" */ './desktop/components/landingPage/LandingPage'),\r\n    loading: () => null,\r\n});\r\n\r\nexport const LoadableProfilePage = Loadable({\r\n  loader: () =>\r\n    import(/* webpackChunkName: \"ProfilePage.loadable\" */ './desktop/components/profilePage/ProfilePage'),\r\n    loading: () => null,\r\n});\r\n\r\nexport default (state) => {\r\n  if ('requestIdleCallback' in window){\r\n    const LOADER_PRIORITY = [\r\n      LoadableLandingPage,\r\n      LoadableProfilePage,\r\n    ]\r\n\r\n    const loadAndRecurse = (priorityIndex) => {\r\n      if (priorityIndex < LOADER_PRIORITY.length) {\r\n        LOADER_PRIORITY[priorityIndex].preload();\r\n        window.requestIdleCallback(() => loadAndRecurse(priorityIndex + 1));\r\n      }\r\n    };\r\n\r\n    window.requestIdleCallback(() => loadAndRecurse(0));\r\n  }\r\n}","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n/* Routes */\r\nimport { LANDING_PAGE_ROUTE } from '../../../Routes';\r\n\r\nconst NoMatchRedirect = ({ location }) => {\r\n  const { search, hash } = location;\r\n\r\n  return (\r\n    <Redirect\r\n      to={{\r\n        pathname: LANDING_PAGE_ROUTE,\r\n        search,\r\n        hash,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default NoMatchRedirect;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\n\r\n/* Routes */\r\nimport { LANDING_PAGE_ROUTE, PROFILE_PAGE_ROUTE } from './Routes';\r\n\r\n/* Child Components */\r\nimport { LoadableLandingPage, LoadableProfilePage } from './LoadableComponents';\r\nimport NoMatchRedirect from './desktop/components/common/NoMatchRedirect';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path={LANDING_PAGE_ROUTE} component={LoadableLandingPage} />\r\n      <Route exact path={PROFILE_PAGE_ROUTE} component={LoadableProfilePage} />\r\n\r\n      {/* Catch all other routes and redirect */}\r\n      <Route path=\"*\" component={NoMatchRedirect} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default withRouter(App);\r\n","import { createBrowserHistory } from 'history';\r\n\r\n/* Actions */\r\nimport {\r\n  NATIVE_HISTORY_POP,\r\n  NATIVE_HISTORY_PUSH,\r\n  historyBack,\r\n  historyForward,\r\n} from '../data/actions/HistoryActions';\r\n\r\n// Export a function, when called creates a history object\r\nexport default () => {\r\n  const history = createBrowserHistory();\r\n\r\n  // clear the initial state\r\n  delete history.location.state;\r\n\r\n  return history;\r\n};\r\n\r\nexport const syncReduxHistory = (store, history) => {\r\n  history.listen((location, action) => {\r\n    // action: 'POP', 'PUSH'\r\n    if (action === NATIVE_HISTORY_POP) {\r\n      store.dispatch(historyBack());\r\n    } else if (action === NATIVE_HISTORY_PUSH) {\r\n      const { pathname, search } = location;\r\n      const nextUrl = search ? `${pathname}?${search}` : pathname;\r\n      store.dispatch(historyForward(nextUrl));\r\n    }\r\n  });\r\n};\r\n"],"sourceRoot":""}