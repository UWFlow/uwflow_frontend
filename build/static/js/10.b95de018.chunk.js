(this.webpackJsonpflow_frontend=this.webpackJsonpflow_frontend||[]).push([[10],{307:function(e,n,t){e.exports=t.p+"static/media/course_v1.3daa38cd.svg"},513:function(e,n,t){"use strict";t.r(n);var r=t(7),a=t(0),c=t.n(a),o=t(28),i=t(62),u=t(36),l=t(3),s=t(4),f=t(45),m=t(307),d=t.n(m),p=t(8);function b(){var e=Object(l.a)(["\n    position: absolute;\n    right: 0;\n    bottom: 32px;\n  "]);return b=function(){return e},e}function v(){var e=Object(l.a)(["\n    width: 100%;\n  "]);return v=function(){return e},e}function g(){var e=Object(l.a)(["\n  ","\n\n  ","\n"]);return g=function(){return e},e}function O(){var e=Object(l.a)(["\n    margin-top: 48px;\n    max-width: calc(100% - ","px);\n  "]);return O=function(){return e},e}function j(){var e=Object(l.a)(["\n    margin-bottom: 16px;\n    padding: 0 16px;\n    min-width: 100%;\n  "]);return j=function(){return e},e}function h(){var e=Object(l.a)(["\n  ","\n  color: ",";\n\n  ","\n\n  ","\n"]);return h=function(){return e},e}function x(){var e=Object(l.a)(["\n    ","\n    padding-bottom: 48px;\n    margin: auto;\n  "]);return x=function(){return e},e}function w(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  position: relative;\n\n  ","\n"]);return w=function(){return e},e}function E(){var e=Object(l.a)(["\n    max-width: calc(100% - ","px);\n  "]);return E=function(){return e},e}function y(){var e=Object(l.a)(["\n  ","\n  color: ",";\n  font-weight: 400;\n\n  ","\n"]);return y=function(){return e},e}function _(){var e=Object(l.a)(["\n    ","\n    margin: 16px auto 0 auto;\n  "]);return _=function(){return e},e}function k(){var e=Object(l.a)(["\n  ","\n"]);return k=function(){return e},e}function D(){var e=Object(l.a)(["\n    max-width: calc(100% - ","px);\n  "]);return D=function(){return e},e}function C(){var e=Object(l.a)(["\n    margin-right: 16px;\n  "]);return C=function(){return e},e}function P(){var e=Object(l.a)(["\n  ","\n  color: white;\n  text-transform: uppercase;\n\n  ","\n\n  ","\n"]);return P=function(){return e},e}function S(){var e=Object(l.a)(["\n    margin-left: 16px;\n  "]);return S=function(){return e},e}function R(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n\n  ","\n"]);return R=function(){return e},e}function F(){var e=Object(l.a)(["\n    ","\n    margin: 0 auto;\n  "]);return F=function(){return e},e}function B(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 16px;\n\n  ","\n"]);return B=function(){return e},e}function W(){var e=Object(l.a)(["\n    min-height: 320px;\n  "]);return W=function(){return e},e}function Y(){var e=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  background-image: url(",");\n  background-color: ",";\n  background-size: cover;\n  position: relative;\n  min-height: 160px;\n  padding: 16px;\n\n  ","\n"]);return Y=function(){return e},e}function L(){var e=Object(l.a)(["\n  width: 100%;\n  margin-bottom: 32px;\n  display: flex;\n  background-color: ",";\n  flex-direction: column;\n  position: relative;\n"]);return L=function(){return e},e}var I=s.c.div(L(),(function(e){return e.theme.white})),q=s.c.div(Y(),d.a,(function(e){return e.theme.primaryExtraDark}),Object(f.a)("tablet")(W())),M=s.c.div(B(),Object(f.a)("tablet")(F(),p.i)),T=s.c.div(R(),Object(f.a)("tablet")(S())),H=s.c.div(P(),p.d,Object(f.a)("mobile","tablet")(C()),Object(f.a)("tablet")(D(),(function(e){return e.ratingBoxWidth}))),N=s.c.div(k(),Object(f.a)("tablet")(_(),p.i)),A=s.c.div(y(),p.e,(function(e){return e.theme.light1}),Object(f.a)("tablet")(E(),(function(e){return e.ratingBoxWidth}))),z=s.c.div(w(),Object(f.a)("tablet")(x(),p.i)),U=s.c.div(h(),p.a,(function(e){return e.theme.dark1}),Object(f.a)("mobile","tablet")(j()),Object(f.a)("tablet")(O(),(function(e){return e.ratingBoxWidth}))),J=s.c.div(g(),Object(f.a)("mobile","tablet")(v()),Object(f.a)("tablet")(b())),G=t(269),K=t(271),Q=t(75),V=function(e){var n=e.course,t=e.shortlisted,r=n.reviews_aggregate.aggregate.avg,a=r.liked,o=r.course_easy,i=r.course_useful,u=n.reviews_aggregate.aggregate,l=u.count,s=u.course_comment_count;return c.a.createElement(I,null,c.a.createElement(q,null,c.a.createElement(M,null,c.a.createElement(H,{ratingBoxWidth:G.b},Object(Q.h)(n.code)),c.a.createElement(T,null,c.a.createElement(K.a,{size:36,initialState:t,courseID:n.id}))),c.a.createElement(N,null,c.a.createElement(A,{ratingBoxWidth:G.b},n.name))),c.a.createElement(z,null,c.a.createElement(J,null,c.a.createElement(G.c,{numRatings:l,numComments:s,percentages:[{displayName:"Likes",percent:a},{displayName:"Useful",percent:i/5},{displayName:"Easy",percent:o/5}]})),c.a.createElement(U,{ratingBoxWidth:G.b},n.description)))},X=t(29),Z=t(161),$=t(176),ee=t(275),ne=t(276),te=t(27);function re(){var e=Object(l.a)(["\n  margin-bottom: 8px;\n  content: '';\n"]);return re=function(){return e},e}function ae(){var e=Object(l.a)(["\n    padding: 16px;\n  "]);return ae=function(){return e},e}function ce(){var e=Object(l.a)(["\n  padding: 24px 32px 16px 32px;\n  ","\n  color: ",";\n\n  ","\n"]);return ce=function(){return e},e}function oe(){var e=Object(l.a)(["\n  color: ",";\n"]);return oe=function(){return e},e}function ie(){var e=Object(l.a)(["\n  overflow-x: auto;\n"]);return ie=function(){return e},e}function ue(){var e=Object(l.a)(["\n  color: ",";\n  margin: 4px 0 4px 0;\n  height: 1em;\n"]);return ue=function(){return e},e}function le(){var e=Object(l.a)(["\n  margin: 4px 0;\n  height: 1em;\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]);return le=function(){return e},e}function se(){var e=Object(l.a)(["\n  margin: 18px 0 4px 0;\n  height: 1em;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  font-weight: 600;\n"]);return se=function(){return e},e}function fe(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-begin;\n"]);return fe=function(){return e},e}function me(){var e=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 8px;\n  background-color: ",";\n"]);return me=function(){return e},e}function de(){var e=Object(l.a)(["\n  display: flex;\n  position: relative;\n  height: calc(\n    ","em + ","px + 60px\n  );\n  height: 100%;\n  width: 100%;\n  align-items: flex-begin;\n  padding-left: 32px;\n"]);return de=function(){return e},e}function pe(){var e=Object(l.a)(["\n  margin-bottom: 32px;\n"]);return pe=function(){return e},e}var be=s.c.div(pe()),ve=s.c.div(de(),(function(e){return e.numRows}),(function(e){return 4*e.numRows})),ge=s.c.div(me(),(function(e){var n=e.color,t=e.theme;return n===De?t.dark1:n===Ce?t.dark2:t.dark3})),Oe=s.c.div(fe()),je=s.c.div(se()),he=s.c.div(le()),xe=Object(s.c)(te.a)(ue(),(function(e){return e.theme.professors})),we=s.c.div(ie()),Ee=s.c.div(oe(),(function(e){var n=e.theme;return e.filled?n.red:n.dark2})),ye=s.c.div(ce(),p.f,(function(e){return e.theme.dark1}),Object(f.a)("mobile","tablet")(ae())),_e=s.c.div(re()),ke=t(10),De="LEC",Ce="LAB",Pe=function(e){for(var n=[],t=0;t<e;t++)n.push(c.a.createElement(he,{key:t}));return n},Se=[{Header:"Section",Cell:function(e){var n=e.cell;return c.a.createElement(ve,{numRows:n.value.numRows},c.a.createElement(ge,{color:n.value.includes(De)?De:n.value.includes(Ce)?Ce:"TUT"}),c.a.createElement(je,null,n.value))},accessor:"section",maxWidth:96,style:{padding:0}},{Header:"Class",Cell:function(e){var n=e.cell;return c.a.createElement(Oe,null,n.value)},accessor:"class",maxWidth:48,style:{verticalAlign:"top"}},{Header:"Enrolled",Cell:function(e){var n=e.cell;return c.a.createElement(Oe,null,c.a.createElement(Ee,{filled:n.value.filled>=n.value.capacity},n.value.filled,"/",n.value.capacity))},accessor:"enrolled",maxWidth:96,style:{verticalAlign:"top"}},{Header:"Time",Cell:function(e){var n=e.cell;return c.a.createElement(Oe,null,n.value.map((function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(he,{key:t},e.time),Pe(e.spaces),t<n.value.length-1&&c.a.createElement(_e,null))})))},accessor:"times",maxWidth:136},{Header:"Date",Cell:function(e){var n=e.cell;return c.a.createElement(Oe,null,n.value.map((function(e,t){var r=e.map((function(e,n){var t=e.startDate===e.endDate?Object(Q.e)(e.startDate).split(", ")[1]:"";return c.a.createElement(he,{key:n},e.days.join(" ")," ",t)}));return t<n.value.length-1&&r.push(c.a.createElement(_e,null)),r})))},accessor:"dates",maxWidth:104},{Header:"Location",Cell:function(e){var n=e.cell;return c.a.createElement(Oe,null,n.value.map((function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(he,{key:t},e.location),Pe(e.spaces),t<n.value.length-1&&c.a.createElement(_e,null))})))},accessor:"locations",maxWidth:72},{Header:"Instructor",Cell:function(e){var n=e.cell;return c.a.createElement(Oe,null,n.value.map((function(e,t){return e.prof.code?c.a.createElement(c.a.Fragment,null,c.a.createElement(xe,{to:Object(ke.j)(e.prof.code),key:t},e.prof.name),Pe(e.spaces),t<n.value.length-1&&c.a.createElement(_e,null)):c.a.createElement(c.a.Fragment,null,Pe(e.spaces+1),t<n.value.length-1&&c.a.createElement(_e,null))})))},accessor:"profs",maxWidth:160},{Header:"Campus",Cell:function(e){var n=e.cell;return c.a.createElement(Oe,null,n.value)},accessor:"campus",maxWidth:80}],Re=t(212);function Fe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var Be={LEC:0,LAB:1,TUT:2},We=function(e){var n=e.sections,t=e.courseCode;if(!n||0===n.length)return null;var r=n.reduce((function(e,n){return e.includes(n.term)||e.push(n.term),e}),[]),a=n.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fe(t,!0).forEach((function(n){Object(X.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fe(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({section:e.section,campus:e.campus,class:e.class_number,term:e.term,enrolled:{filled:e.enrollment_total,capacity:e.enrollment_capacity}},function(e){var n=e.reduce((function(e,n){var t="".concat(n.start_seconds," ").concat(n.end_seconds);return e[t]||(e[t]={time:"".concat(Object(Q.g)(n.start_seconds)," - ").concat(Object(Q.g)(n.end_seconds)),location:n.location,prof:n.prof?{id:n.prof.id,code:n.prof.code,name:n.prof.name}:{},timeRanges:[]}),e[t].timeRanges.push({days:n.days,startDate:n.start_date,endDate:n.end_date}),e}),{}),t=[];Object.entries(n).forEach((function(e){e[1].timeRanges.sort((function(e,n){return e.startDate>n.startDate})),t.push(e[1])}));var r=["M","T","W","Th","F","S","Su"];t.forEach((function(e){var n=[],t=[];e.timeRanges.forEach((function(a,c){if(c<e.timeRanges.length-1){var o=e.timeRanges[c+1];if(a.startDate===o.startDate&&a.endDate===o.endDate){var i=!0,u=!1,l=void 0;try{for(var s,f=a.days[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var m=s.value;t.includes(m)||t.push(m)}}catch(j){u=!0,l=j}finally{try{i||null==f.return||f.return()}finally{if(u)throw l}}return}}var d=!0,p=!1,b=void 0;try{for(var v,g=a.days[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var O=v.value;!t.includes(O)&&r.includes(O)&&t.push(O)}}catch(j){p=!0,b=j}finally{try{d||null==g.return||g.return()}finally{if(p)throw b}}t.sort((function(e,n){return r.indexOf(e)-r.indexOf(n)})),n.push({days:t,startDate:a.startDate,endDate:a.endDate}),t=[]})),e.timeRanges=n}));var a=(t=t.sort((function(e,n){return e.startSeconds-n.startSeconds}))).map((function(e){return e.timeRanges.length}));return{times:t.map((function(e,n){return Object({time:e.time,spaces:a[n]-1})})),locations:t.map((function(e,n){return Object({location:e.location,spaces:a[n]-1})})),profs:t.map((function(e,n){return Object({prof:e.prof,spaces:a[n]-1})})),dates:t.map((function(e){return e.timeRanges}))}}(e.meetings))})).sort((function(e,n){var t=e.section.split(" ")[0],r=n.section.split(" ")[0];return Be[t]===Be[r]?e.section.localeCompare(n.section):Be[t]-Be[r]})),o=Object(Re.b)(n,t),i=r.map((function(e){return{title:Object(Q.i)(e),render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(we,null,c.a.createElement($.a,{columns:Se,data:a.filter((function(n){return n.term===e}))})),c.a.createElement(we,null,c.a.createElement(ye,null,"Final Exams"),c.a.createElement(ee.a,{courses:o,includeCode:!1})))}}}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(be,null,c.a.createElement(Z.a,{initialSelectedTab:0,tabList:i,contentPadding:"0"})),i.length>0&&c.a.createElement(ne.a,null))},Ye=t(48);function Le(){var e=Object(l.a)(["\n  ","\n  color: ",";\n"]);return Le=function(){return e},e}function Ie(){var e=Object(l.a)(["\n  ","\n  color: ",";\n"]);return Ie=function(){return e},e}function qe(){var e=Object(l.a)(["\n  ","\n  color: ",";\n"]);return qe=function(){return e},e}function Me(){var e=Object(l.a)(["\n  margin-bottom: 16px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return Me=function(){return e},e}function Te(){var e=Object(l.a)(["\n  ","\n  margin-bottom: 16px;\n"]);return Te=function(){return e},e}function He(){var e=Object(l.a)(["\n","\n","\n","\nmargin-bottom: 32px;\n"]);return He=function(){return e},e}var Ne=s.c.div(He(),Object(p.c)("32px 24px"),p.b,p.g),Ae=s.c.div(Te(),p.f),ze=s.c.div(Me()),Ue=Object(s.c)(te.a)(qe(),p.a,(function(e){return e.theme.courses})),Je=s.c.div(Ie(),p.a,(function(e){return e.theme.light4})),Ge=s.c.div(Le(),p.a,(function(e){return e.theme.dark3})),Ke=function(e){var n=e.prereqs,t=e.postreqs,r=e.courseCode;return c.a.createElement(Ne,null,c.a.createElement(Ae,null,"".concat(Object(Q.h)(r)," prerequisites")),n?c.a.createElement(Ge,null,function(){if(!n)return"";var e=(n=(n=(n=(n=(n=n.replace(/\s{2,}/gi," ")).replace(/\(\s*/gi,"(")).replace(/\s*\)/gi,")")).replace(/\s*\\\s*/gi,"\\")).replace(/\s*\/\s*/gi,"/")).split(Q.a),t=n.match(Q.a);return e.length<=1?n:e.reduce((function(e,n,r){return t[r]?[].concat(Object(Ye.a)(e),[n,c.a.createElement(Ue,{to:Object(ke.i)(t[r]),key:r},"".concat(Object(Q.h)(t[r])))]):[].concat(Object(Ye.a)(e),[n])}),[])}()):c.a.createElement(ze,null,c.a.createElement(Je,null,"No prerequisites")),c.a.createElement("br",null),c.a.createElement(Ae,null,"".concat(Object(Q.h)(r)," leads to")),t.map((function(e,n){return c.a.createElement(ze,{key:n},c.a.createElement(Ue,{to:Object(ke.i)(e.postrequisite.code)},"".concat(Object(Q.h)(e.postrequisite.code)," - ").concat(e.postrequisite.name)))})),0===t.length&&c.a.createElement(ze,null,c.a.createElement(Je,null,"Nothing")))},Qe=t(205),Ve=t.n(Qe),Xe=t(18),Ze=function(e){if(!e)return{courseReviews:[],reviewsByProf:[],courseReviewProfs:[],profReviewProfs:[]};var n=e.review.map((function(e){return{id:e.id,upvotes:e.course_review_upvotes_aggregate.aggregate.count,upvote_users:e.course_review_upvotes.map((function(e){return Number(e.user_id)})),review:e.course_comment,author:e.author,user:e.user,created_at:e.created_at,updated_at:e.updated_at,metrics:{useful:e.course_useful,easy:e.course_easy,liked:null!=e.liked},prof:e.prof?e.prof.name:""}})),t=e.review.reduce((function(e,n){var t,r=!1;if(!n.prof||!n.prof_comment)return e;var a=!0,c=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var l=i.value;if(n.prof&&n.prof.name===l.name){t=l,r=!0;break}}}catch(s){c=!0,o=s}finally{try{a||null==u.return||u.return()}finally{if(c)throw o}}return r||(t={id:n.prof?n.prof.id:0,code:n.prof?n.prof.code:"",name:n.prof?n.prof.name:"",liked:n.prof?n.prof.reviews_aggregate.aggregate.avg.liked:0,reviews:[]},e.push(t)),t.reviews.push({id:n.id,upvotes:n.prof_review_upvotes_aggregate.aggregate.count,upvote_users:n.prof_review_upvotes.map((function(e){return Number(e.user_id)})),review:n.prof_comment,author:n.author,user:n.user,created_at:n.created_at,updated_at:n.updated_at,metrics:{clear:n.prof_clear,engaging:n.prof_engaging}}),e}),[]),r=e.review.reduce((function(e,n){return n.prof&&!e.includes(n.prof.name)&&e.push(n.prof.name),e}),[]),a=t.map((function(e){return e.name}));return{courseReviews:n,reviewsByProf:t,courseReviewProfs:r,profReviewProfs:a}},$e=function(e){var n=Object(a.useState)(Ze(e)),t=Object(r.a)(n,2),c=t[0],o=t[1];return[c,function(e){var n=function(e,n){switch(n.type){case"update_review_data":return Ze(n.payload);default:return e}}(c,e);o(n)}]};function en(){var e=Object(l.a)(["\n  ","\n  cursor: pointer;\n"]);return en=function(){return e},e}function nn(){var e=Object(l.a)(["\n  background: ",";\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  cursor: pointer;\n"]);return nn=function(){return e},e}function tn(){var e=Object(l.a)(["\n    width: 100%;\n  "]);return tn=function(){return e},e}function rn(){var e=Object(l.a)(["\n  ","\n  width: 64px;\n  margin-left: 12px;\n\n  ","\n"]);return rn=function(){return e},e}function an(){var e=Object(l.a)(["\n    font-size: 32px;\n  "]);return an=function(){return e},e}function cn(){var e=Object(l.a)(["\n  ","\n\n  ","\n"]);return cn=function(){return e},e}function on(){var e=Object(l.a)(["\n    margin: 8px 16px 16px 16px;\n  "]);return on=function(){return e},e}function un(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  ","\n"]);return un=function(){return e},e}function ln(){var e=Object(l.a)(["\n    margin: 16px;\n  "]);return ln=function(){return e},e}function sn(){var e=Object(l.a)(["\n  ","\n  color: ","\n\n  ","\n"]);return sn=function(){return e},e}function fn(){var e=Object(l.a)(["\n    flex-direction: column;\n    justfiy-content: flex-start;\n    align-items: flex-start;\n    margin-bottom: 16px;\n  "]);return fn=function(){return e},e}function mn(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 32px;\n  align-items: center;\n\n  ","\n"]);return mn=function(){return e},e}function dn(){var e=Object(l.a)(["\n  ","\n  ","\n  margin-bottom: 32px;\n"]);return dn=function(){return e},e}function pn(){var e=Object(l.a)(["\n    margin-top: 32px;\n  "]);return pn=function(){return e},e}function bn(){var e=Object(l.a)(["\n  background: ",";\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n\n  ","\n"]);return bn=function(){return e},e}function vn(){var e=Object(l.a)(["\n  ","\n  white-space: nowrap;\n"]);return vn=function(){return e},e}function gn(){var e=Object(l.a)(["\n    padding: 24px 16px;\n    border-bottom: 1px solid ",";\n    background-color: white;\n  "]);return gn=function(){return e},e}function On(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  padding: 32px;\n\n  ","\n"]);return On=function(){return e},e}function jn(){var e=Object(l.a)(["\n    :last-child{\n      margin-bottom: 16px;\n    }\n  "]);return jn=function(){return e},e}function hn(){var e=Object(l.a)(["\n  display: flex;\n  margin-right: 32px;\n  margin-bottom: 8px;\n  align-items: center;\n\n  ","\n"]);return hn=function(){return e},e}function xn(){var e=Object(l.a)(["\n    flex-direction: column;\n    margin: 16px;\n  "]);return xn=function(){return e},e}function wn(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 32px;\n\n  ","\n"]);return wn=function(){return e},e}function En(){var e=Object(l.a)(["\n    padding: 32px 32px 0 32px;\n  "]);return En=function(){return e},e}function yn(){var e=Object(l.a)(["\n  ","\n"]);return yn=function(){return e},e}function _n(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return _n=function(){return e},e}function kn(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return kn=function(){return e},e}var Dn=s.c.div(kn()),Cn=s.c.div(_n()),Pn=s.c.div(yn(),Object(f.a)("tablet")(En())),Sn=s.c.div(wn(),Object(f.a)("mobile","tablet")(xn())),Rn=s.c.div(hn(),Object(f.a)("mobile","tablet")(jn())),Fn=s.c.div(On(),Object(f.a)("mobile","tablet")(gn(),(function(e){return e.theme.light2}))),Bn=s.c.div(vn(),p.g),Wn=s.c.div(bn(),(function(e){return e.theme.light1}),Object(f.a)("tablet")(pn())),Yn=s.c.div(dn(),Object(p.c)("0"),p.b),Ln=s.c.div(mn(),Object(f.a)("mobile","tablet")(fn())),In=Object(s.c)(te.a)(sn(),p.e,(function(e){return e.theme.professors}),Object(f.a)("mobile","tablet")(ln())),qn=s.c.div(un(),Object(f.a)("mobile","tablet")(on())),Mn=s.c.div(cn(),p.d,Object(f.a)("mobile","tablet")(an())),Tn=s.c.div(rn(),p.a,Object(f.a)("mobile","tablet")(tn())),Hn=s.c.div(nn(),(function(e){return e.theme.light3})),Nn=s.c.div(en(),p.g),An=t(270),zn=t(77),Un=t(50),Jn=t(273),Gn=t(46),Kn=t(266);function Qn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var Vn=function(e){var n=e.reviews,t=e.theme,o=e.courseSort,i=e.setCourseSort,u=e.courseProfFilter,l=e.courseProfFilterOptions,s=e.setCourseProfFilter,f=Object(a.useState)(!1),m=Object(r.a)(f,2),d=m[0],p=m[1],b=Object(a.useMemo)((function(){return n.sort((function(e,n){var t=Ve()(n.created_at).format("YYYYMMDD")-Ve()(e.created_at).format("YYYYMMDD");return 0===o?t:n.upvotes===e.upvotes?t:n.upvotes-e.upvotes})).filter((function(e,n){return d||n<Xe.d})).map((function(e){return c.a.createElement(An.a,{key:e.id,review:e,isCourseReview:!0})}))}),[n,d,o]);return c.a.createElement(Cn,null,c.a.createElement(Pn,null,c.a.createElement(Sn,null,c.a.createElement(Rn,null,c.a.createElement(Bn,null,"Sort by: "),c.a.createElement(zn.a,{color:t.primary,selectedIndex:o,options:["most recent","most helpful"],onChange:function(e){return i(e)}})),c.a.createElement(Rn,null,c.a.createElement(Bn,null,"Filter by professor: "),c.a.createElement(zn.a,{color:t.professors,selectedIndex:u,options:l,onChange:function(e){return s(e)}}))),b),n.length>Xe.d&&c.a.createElement(Hn,{onClick:function(){return p(!d)}},c.a.createElement(Nn,null,d?"Show less reviews":"Show all ".concat(n.length," reviews"))))},Xn=function(e){var n=e.reviewsByProf,t=e.ProfFilterDropdown,o=Object(a.useState)({}),i=Object(r.a)(o,2),u=i[0],l=i[1],s=Object(a.useMemo)((function(){return n.map((function(e,n){return c.a.createElement(Yn,{key:n},c.a.createElement(Pn,null,c.a.createElement(Ln,null,c.a.createElement(In,{to:Object(ke.j)(e.code)},e.name),c.a.createElement(qn,null,c.a.createElement(Mn,null,Math.round(100*e.liked),"%"),c.a.createElement(Tn,null,"liked this professor"))),e.reviews.sort((function(e,n){return Ve()(n.created_at).format("YYYYMMDD")-Ve()(e.created_at).format("YYYYMMDD")})).filter((function(n,t){return t<Xe.d||u[e.name]})).map((function(e,n){return c.a.createElement(An.a,{key:n,review:e,isCourseReview:!1})}))),e.reviews.length>Xe.d&&c.a.createElement(Hn,{onClick:function(){return l(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qn(t,!0).forEach((function(n){Object(X.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qn(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},u,Object(X.a)({},e.name,!u[e.name])))}},c.a.createElement(Nn,null,u[e.name]?"Show less reviews":"Show all ".concat(e.reviews.length," reviews"))))}))}),[n,u]);return c.a.createElement(Wn,null,t,s)},Zn=Object(s.e)(Object(o.b)((function(e){return{isBrowserDesktop:Object(Gn.b)(e)}}))((function(e){var n=e.courseID,t=e.theme,o=e.isBrowserDesktop,u=Object(i.b)(Kn.a,{variables:{id:n}}),l=u.loading,s=u.data,f=Object(a.useState)(0),m=Object(r.a)(f,2),d=m[0],p=m[1],b=Object(a.useState)(0),v=Object(r.a)(b,2),g=v[0],O=v[1],j=Object(a.useState)(0),h=Object(r.a)(j,2),x=h[0],w=h[1],E=Object(a.useState)(!1),y=Object(r.a)(E,2),_=y[0],k=y[1],D=$e(s),C=Object(r.a)(D,2),P=C[0],S=C[1];if(Object(a.useEffect)((function(){s&&S({type:"update_review_data",payload:s})}),[s]),l)return c.a.createElement(Dn,null,c.a.createElement(Un.a,null));var R=["show all professors"].concat(Object(Ye.a)(P.courseReviewProfs)),F=P.courseReviews.filter((function(e){return 0===g||e.prof===R[g]})),B=["show all professors"].concat(Object(Ye.a)(P.profReviewProfs)),W=P.reviewsByProf.filter((function(e){return 0===x||e.name===B[x]})),Y=W.reduce((function(e,n){return e+=n.reviews.length}),0),L=c.a.createElement(Fn,null,c.a.createElement(Bn,null,"Filter by professor: "),c.a.createElement(zn.a,{color:t.professors,selectedIndex:x,options:B,onChange:function(e){return w(e)}})),I=[{title:"Course reviews (".concat(F.length,")"),render:function(){return c.a.createElement(Vn,{reviews:F,theme:t,courseSort:d,setCourseSort:p,courseProfFilter:g,courseProfFilterOptions:R,setCourseProfFilter:O})},onClick:function(){return k(!1)}},{title:"Professor reviews (".concat(Y,")"),render:function(){return L},onClick:function(){return k(!0)}}];return c.a.createElement(Dn,null,o&&c.a.createElement(Z.a,{tabList:I,initialSelectedTab:0,contentPadding:"0"}),_&&o&&c.a.createElement(Xn,{reviewsByProf:W,ProfFilterDropdown:o?null:L}),!o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Jn.a,{title:"Course comments (".concat(s.course_review_aggregate.aggregate.count,")")},c.a.createElement(Vn,{reviews:F,theme:t,courseSort:d,setCourseSort:p,courseProfFilter:g,courseProfFilterOptions:R,setCourseProfFilter:O})),c.a.createElement(Jn.a,{title:"Professor comments (".concat(s.prof_review_aggregate.aggregate.count,")")},c.a.createElement(Xn,{reviewsByProf:W,ProfFilterDropdown:L}))))}))),$n=t(272),et=t(35),nt=t(55),tt=t(274),rt=t(160),at=t(162),ct=t(40);function ot(){var e=Object(l.a)(["\n    max-width: 60%;\n  "]);return ot=function(){return e},e}function it(){var e=Object(l.a)(["\n  ","\n  margin-right: 24px;\n\n  ","\n"]);return it=function(){return e},e}function ut(){var e=Object(l.a)(["\n    width: 100%;\n    margin-right: 0;\n    margin-bottom: 16px;\n    justify-content: space-between;\n  "]);return ut=function(){return e},e}function lt(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 24px;\n\n  ","\n"]);return lt=function(){return e},e}function st(){var e=Object(l.a)(["\n    flex-direction: column;\n  "]);return st=function(){return e},e}function ft(){var e=Object(l.a)(["\n  ","\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 32px;\n\n  ","\n"]);return ft=function(){return e},e}function mt(){var e=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return mt=function(){return e},e}function dt(){var e=Object(l.a)(["\n    width: 100%;\n    order: 1;\n  "]);return dt=function(){return e},e}function pt(){var e=Object(l.a)(["\n  ","\n\n  ","\n"]);return pt=function(){return e},e}function bt(){var e=Object(l.a)(["\n    width: 100%;\n    padding: 0;\n    order: 2;\n  "]);return bt=function(){return e},e}function vt(){var e=Object(l.a)(["\n  ","\n\n  ","\n"]);return vt=function(){return e},e}function gt(){var e=Object(l.a)(["\n  ","\n  display: flex;\n  flex-flow: row wrap;\n"]);return gt=function(){return e},e}function Ot(){var e=Object(l.a)(["\n  ","\n"]);return Ot=function(){return e},e}var jt=s.c.div(Ot(),p.j),ht=s.c.div(gt(),p.i),xt=s.c.div(vt(),p.m,Object(f.a)("mobile","tablet")(bt())),wt=s.c.div(pt(),p.l,Object(f.a)("mobile","tablet")(dt())),Et=s.c.div(mt()),yt=s.c.div(ft(),Object(p.c)("24px"),p.b,Object(f.a)("mobile","tablet")(st())),_t=s.c.div(lt(),Object(f.a)("mobile","tablet")(ut())),kt=s.c.div(it(),p.f,Object(f.a)("mobile","tablet")(ot())),Dt=t(47),Ct=t(23),Pt=function(e){var n=e.course,t=e.shortlisted,i=e.userReview,u=e.userCourseTaken,l=e.isLoggedIn,s=e.isBrowserDesktop,f=Object(o.c)(),m=Object(a.useState)(!1),d=Object(r.a)(m,2),p=d[0],b=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{course:n,shortlisted:t}),c.a.createElement(ht,null,c.a.createElement(xt,null,c.a.createElement(Et,null,c.a.createElement(We,{sections:n.sections,courseCode:n.code}),(!l||u)&&c.a.createElement(yt,null,c.a.createElement(_t,null,c.a.createElement(kt,null,"What do you think of ",Object(Q.h)(n.code),"?"),c.a.createElement(tt.a,{courseCode:n.code,courseID:n.id,profID:i?i.prof_id:null,initialState:i?i.liked:null})),c.a.createElement(et.a,{width:s?"max-content":"100%",padding:"16px 24px",handleClick:function(){l?b(!0):f(Object(Ct.f)())}},i?"Edit your review":"Add your review"))),c.a.createElement(Zn,{courseID:n.id})),c.a.createElement(wt,null,c.a.createElement(Ke,{courseCode:n.code,prereqs:n.prereqs,postreqs:n.postrequisites}))),c.a.createElement(nt.a,{isOpen:p,onRequestClose:function(){return b(!1)}},c.a.createElement($n.a,{courseList:[{course:n,review:i}],onCancel:function(){return b(!1)}})))};n.default=Object(u.g)(Object(o.b)((function(e){return{isBrowserDesktop:Object(Gn.b)(e),isLoggedIn:Object(Dt.c)(e)}}))((function(e){var n=e.match,t=e.isLoggedIn,r=e.isBrowserDesktop,a=n.params.courseCode.toLowerCase(),o=Object(at.d)(t,Object(ct.a)()),u=Object(i.b)(o,{variables:{code:a}}),l=u.loading,s=u.error,f=u.data;return l?c.a.createElement(jt,null,c.a.createElement(Un.a,null)):!s&&f&&f.course&&0!==f.course.length?c.a.createElement(jt,null,c.a.createElement(Pt,{course:f.course[0],userReview:t&&f.review.length>0?f.review[0]:null,userCourseTaken:!!(t&&f.user_course_taken.length>0),shortlisted:t&&f.user_shortlist.length>0,isLoggedIn:t,isBrowserDesktop:r})):c.a.createElement(rt.default,{text:"Sorry, we couldn't find that course!"})})))}}]);
//# sourceMappingURL=10.b95de018.chunk.js.map