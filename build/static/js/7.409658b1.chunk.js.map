{"version":3,"sources":["components/display/styles/TabContainer.jsx","components/display/TabContainer.jsx","components/display/styles/Table.jsx","components/display/Table.jsx","components/input/styles/CheckCircle.jsx","components/input/CheckCircle.jsx","graphql/fragments/CourseFragment.jsx","graphql/fragments/ProfFragment.jsx","components/input/styles/RadioButton.jsx","components/input/RadioButton.jsx","components/input/styles/DiscreteSlider.jsx","components/input/DiscreteSlider.jsx","../node_modules/query-string/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/strict-uri-encode/index.js","../node_modules/decode-uri-component/index.js","../node_modules/split-on-first/index.js","img/explore_v1.svg","pages/explorePage/styles/ExplorePage.jsx","pages/explorePage/ExploreTableData.jsx","pages/explorePage/styles/SearchResults.jsx","pages/explorePage/SearchResults.jsx","../node_modules/react-feather/dist/icons/x.js","components/input/styles/MultiSelectButton.jsx","components/input/MultiSelectButton.jsx","pages/explorePage/styles/SearchFilter.jsx","pages/explorePage/SearchFilter.jsx","graphql/queries/explore/Explore.jsx","pages/explorePage/ExplorePage.jsx"],"names":["ContainerWrapper","styled","div","width","theme","white","BoxShadow","TabsWrapper","Tab","first","last","selected","light2","dark1","dark3","Heading3","ContentContainer","padding","TabContainer","tabList","containerWidth","tabWidth","initialSelectedTab","contentPadding","useState","selectedTab","setSelectedTab","map","tab","index","key","length","onClick","title","render","TableWrapper","table","dark2","TableHeader","thead","HeaderRow","tr","light3","HeaderCell","th","align","maxWidth","rightAlign","HeaderText","span","sortable","Link","primary","primaryDark","SortArrow","TableBody","tbody","Row","Cell","td","TableBottom","Table","columns","data","loading","doneFetching","fetchMore","shouldFetchMore","setShouldFetchMore","bottomRef","useRef","useEffect","fetchMorePromise","then","throttledSetFetchMore","throttle","current","top","getBoundingClientRect","inView","window","innerHeight","addEventListener","removeEventListener","useTable","useSortBy","getTableProps","headerGroups","rows","prepareRow","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","sorted","sortedDesc","row","getRowProps","cells","cell","getCellProps","style","colSpan","overflow","LoadingSpinner","margin","ref","CheckCircleWrapper","checked","color","light4","disabled","CheckIcon","CheckCircle","size","strokeWidth","CourseFragment","courseInfo","gql","courseTerm","courseSchedule","courseRequirements","ProfFragment","profInfo","profCoursesTaught","RadioButtonWrapper","RadioButtonOption","RadioButtonText","Body","RadioButton","options","toggle","opt","idx","DiscreteSliderWrapper","SliderBarWrapper","breakpoint","SliderRail","SliderHandle","percent","SliderTrack","source","target","SliderTick","Handle","handle","id","getHandleProps","Track","getTrackProps","withTheme","numNodes","currentNode","onUpdate","showTicks","setSelected","percentGap","percentages","i","push","step","mode","domain","value","values","rootStyle","position","height","getRailProps","handles","className","right","tracks","_slicedToArray","_toConsumableArray","strictUriEncode","decodeComponent","splitOnFirst","encode","strict","encodeURIComponent","decode","removeHash","input","hashStart","indexOf","slice","extract","queryStart","parseValue","parseNumbers","Number","isNaN","trim","parseBooleans","toLowerCase","parse","formatter","result","arrayFormat","accumulator","exec","replace","undefined","concat","newValue","split","parserForArrayFormat","Object","assign","sort","ret","create","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","param","_splitOnFirst","_splitOnFirst2","err","return","_i","_Object$keys","keys","_key","_value","_i2","_Object$keys2","k","reduce","Boolean","Array","isArray","keysSorter","a","b","exports","stringify","object","join","encoderForArrayFormat","filter","x","parseUrl","url","query","arrayWithHoles","iterableToArrayLimit","nonIterableRest","module","arr","prototype","toString","call","_arr","_n","_d","_e","_s","TypeError","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr2","iter","from","str","charCodeAt","toUpperCase","singleMatcher","RegExp","multiMatcher","decodeComponents","components","decodeURIComponent","left","tokens","match","encodedURI","replaceMap","entries","customDecodeURIComponent","string","separator","separatorIndex","ExplorePageWrapper","PageWrapper","ExploreHeaderWrapper","ExploreHeader","primaryExtraDark","ExploreHeaderText","PageContent","Heading2","light1","ColumnWrapper","Column1","WideColumn","Column2","ThinColumn","CourseCode","RouterLink","courses","ProfName","professors","courseColumns","Header","accessor","to","getCoursePageRoute","splitCourseCode","Math","round","profColumns","getProfPageRoute","code","name","SearchResultsContent","currentTermCode","getCurrentTermCode","nextTermCode","getNextTermCode","SearchResults","filterState","exploreTab","setExploreTab","ratingFilters","profCourses","course","description","ratings","course_reviews_aggregate","aggregate","count","easy","avg","liked","useful","sections","profs","prof","code_name","prof_reviews_aggregate","clear","engaging","prof_courses","courseCodeRegex","useCallback","regexStr","courseCodes","filteredCourses","test","numCourseRatings","currentTerm","some","section","term","nextTerm","filteredProfs","numProfRatings","courseTaught","includes","courseSearch","course_aggregate","prof_aggregate","results","rightAlignIndex","variables","course_offset","prof_offset","updateQuery","prev","fetchMoreResult","_extends","arguments","hasOwnProperty","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","props","otherProps","createElement","xmlns","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","propTypes","oneOfType","number","defaultProps","MultiSelectButtonWrapper","ButtonWrapper","MultiSelectButton","option","SearchFilterWrapper","Card","SearchFilterHeader","SearchFilterText","Heading4","SearchFilterSection","CourseFilterDropdown","NumRatingsText","NumRatingsWrapper","BoldText","ResetButton","button","HeaderButtonWrapper","XWrapper","courseNumberOptions","num","currentTermString","termCodeToDate","nextTermString","setCourseCodes","setCurrentTerm","setNextTerm","setNumRatings","setCourseTaught","resetFilters","numRatings","ratingSlider","DiscreteSlider","DropdownList","selectedIndex","onChange","buildExploreCodeQuery","SEARCH_RESULTS_PER_PAGE","ReviewFragment","courseReviewAggregate","profReviewAggregate","buildExploreQuery","queryTerms","MAX_SEARCH_TERMS","courseQueries","profQueries","parsedCourseQuery","parsedProfQuery","RATING_FILTERS","ExplorePageContent","codeSearch","courseTab","setNumCourseRatings","setNumProfRatings","acc","withRouter","location","queryString","search","q","type","t","c","exploreQuery","useQuery","notifyOnNetworkStatusChange"],"mappings":"00BAGO,IAAMA,EAAmBC,IAAOC,IAAV,KAClB,qBAAGC,OAAqB,UAEnB,qBAAGC,MAAkBC,QACjCC,KAGSC,EAAcN,IAAOC,IAAV,KAKXM,EAAMP,IAAOC,IAAV,KAOG,YAAgC,IAA7BO,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,KACzB,OAD8C,EAAfC,SAI3BF,EACK,cAELC,EACK,cAEF,IARE,OAUG,gBAAGC,EAAH,EAAGA,SAAUP,EAAb,EAAaA,MAAb,OACZO,EAAWP,EAAMC,MAAQD,EAAMQ,UACxB,gBAAGD,EAAH,EAAGA,SAAUP,EAAb,EAAaA,MAAb,OACPO,EAAWP,EAAMS,MAAQT,EAAMU,QAC/BC,KACa,qBAAGJ,SAA2B,IAAM,OAGxCK,EAAmBf,IAAOC,IAAV,KAGhB,qBAAGe,WCeDC,IAjDM,SAAC,GAMf,IALLC,EAKI,EALJA,QACAC,EAII,EAJJA,eACAC,EAGI,EAHJA,SAGI,IAFJC,0BAEI,MAFiB,EAEjB,MADJC,sBACI,MADa,OACb,IACkCC,mBAASF,GAD3C,mBACGG,EADH,KACgBC,EADhB,KAGJ,OACE,kBAAC1B,EAAD,CAAkBG,MAAOiB,GACvB,kBAACb,EAAD,KACGY,EAAQQ,KAAI,SAACC,EAAKC,GAAN,OACX,kBAACrB,EAAD,CACEsB,IAAKD,EACL1B,MAAOkB,EACPV,SAAUkB,IAAUJ,EACpBhB,MAAiB,IAAVoB,EACPnB,KAAMmB,IAAUV,EAAQY,OAAS,EACjCC,QAAS,WACPJ,EAAII,SAAWJ,EAAII,QAAQH,GAC3BH,EAAeG,KAGhBD,EAAIK,WAIX,kBAACjB,EAAD,CAAkBC,QAASM,GACxBJ,EAAQM,GAAaS,a,0+DCrCvB,IAAMC,EAAelC,IAAOmC,MAAV,KAOd,qBAAGhC,MAAkBiC,SAGnBC,EAAcrC,IAAOsC,MAAV,KAKXC,EAAYvC,IAAOwC,GAAV,KAEO,qBAAGrC,MAAkBsC,UAGrCC,EAAa1C,IAAO2C,GAAV,KACP,gBAAGC,EAAH,EAAGA,MAAH,OAAgBA,GAAgB,UACrC,qBAAGC,SAA0B,MACzB,qBAAGA,SAA0B,MAK1B,qBAAGC,WAA+B,OAAS,OAC1C,qBAAGA,WAA+B,OAAS,OAIjD,qBAAGD,SAA0B,GAAK,MAC9B,qBAAGA,SAA0B,GAAK,MAMtC,qBAAGA,SAA0B,GAAK,MAC9B,qBAAGA,SAA0B,GAAK,MAItCE,EAAa/C,IAAOgD,KAAV,KACnB,qBAAGC,SAA2BC,IAAO,MAC7B,qBAAGD,SAA2B,UAAY,aAC3C,gBAAG9C,EAAH,EAAGA,MAAH,SAAU8C,SAA2B9C,EAAMgD,QAAUhD,EAAMS,SAGzD,gBAAGT,EAAH,EAAGA,MAAH,SAAU8C,SACN9C,EAAMiD,YAAcjD,EAAMS,SAI9ByC,EAAYrD,IAAOgD,KAAV,KACX,qBAAG7C,MAAkBgD,WAInBG,EAAYtD,IAAOuD,MAAV,KAITC,EAAMxD,IAAOwC,GAAV,KAIa,qBAAGrC,MAAkBsC,UAOrCgB,EAAOzD,IAAO0D,GAAV,KAGD,gBAAGd,EAAH,EAAGA,MAAH,OAAgBA,GAAgB,UAmBnCe,EAAc3D,IAAOwC,GAAV,K,QC2CToB,IA5HD,SAAC,GAOR,IANLC,EAMI,EANJA,QACAC,EAKI,EALJA,KAKI,IAJJb,gBAII,aAHJc,eAGI,aAFJC,oBAEI,aADJC,iBACI,MADQ,KACR,IAC0C1C,oBAAS,GADnD,mBACG2C,EADH,KACoBC,EADpB,KAEEC,EAAYC,iBAAO,MAEzBC,qBAAU,WACR,GAAKJ,GAAoBD,IAAaF,GAIlCG,EAAiB,CACnB,IAAMK,EAAmBN,IACpBM,EAGHA,EAAiBC,MAAK,WACpBL,GAAmB,MAHrBA,GAAmB,MAQtB,CAACD,IAEJ,IAUMO,EAAwBC,oBAVT,WACnB,IAAIX,IAAWG,GAAoBE,EAAUO,SAAYV,EAAzD,CAGA,IACMW,EAAMR,EAAUO,QAAQE,wBAAwBD,IAChDE,EAAUF,EAFD,KAEkB,GAAMA,EAFxB,KAEyCG,OAAOC,YAC/Db,EAAmBW,MAGgC,KAErDR,qBAAU,WAER,OADAS,OAAOE,iBAAiB,UAAU,kBAAMR,OACjCM,OAAOG,oBAAoB,UAAU,kBAAMT,SAEjD,CAACV,IAtCA,MAwCsDoB,YACxD,CACEtB,UACAC,QAEFsB,KALMC,EAxCJ,EAwCIA,cAAeC,EAxCnB,EAwCmBA,aAAcC,EAxCjC,EAwCiCA,KAAMC,EAxCvC,EAwCuCA,WAQ3C,OACE,kBAACtD,EAAiBmD,IAChB,kBAAChD,EAAD,KACGiD,EAAa5D,KAAI,SAAA+D,GAAW,OAC3B,kBAAClD,EAAckD,EAAYC,sBACxBD,EAAYE,QAAQjE,KAAI,SAAAkE,GAAM,OAC7B,kBAAClD,EAAD,iBACMkD,EAAOC,eACT5C,GAAY2C,EAAOE,wBAFvB,CAIElD,MAAOgD,EAAOhD,MACdC,SAAU+C,EAAO/C,WAEjB,kBAACE,EAAD,CAAYE,SAAUA,GACnB2C,EAAO3D,OAAO,WAEjB,kBAACoB,EAAD,KACGuC,EAAOG,OAAUH,EAAOI,WAAa,UAAO,UAAQ,aAOjE,kBAAC1C,EAAD,KACGiC,EAAK7D,KACJ,SAAAuE,GAAG,OACDT,EAAWS,IACT,kBAACzC,EAAQyC,EAAIC,cACVD,EAAIE,MAAMzE,KAAI,SAAA0E,GAAI,OACjB,kBAAC3C,EAAD,iBACM2C,EAAKC,eADX,CAEEzD,MAAOwD,EAAKR,OAAOhD,MACnB0D,MAAOF,EAAKR,OAAOU,QAElBF,EAAKnE,OAAO,iBAMtB8B,GAAWG,KAAqBF,GAA8B,OAAdC,GACjD,kBAACT,EAAD,KACE,kBAACC,EAAD,CAAM8C,QAAS1C,EAAQ/B,OAAQwE,MAAO,CAACtF,QAAS,EAAGwF,SAAU,WAC3D,kBAACC,EAAA,EAAD,CAAgBC,OAAQ,eAI9B,kBAAC/C,EAAD,CAAagD,IAAKvC,Q,qfCxHnB,IAAMwC,EAAqB5G,IAAOC,IAAV,KACpB,qBAAGC,SACC,qBAAGA,SACN,qBAAGA,SACC,qBAAGA,SACG,gBAAG2G,EAAH,EAAGA,QAASC,EAAZ,EAAYA,MAAO3G,EAAnB,EAAmBA,MAAnB,OAClB0G,EAAUC,EAAQ3G,EAAMQ,UAEtB,gBAAGkG,EAAH,EAAGA,QAASC,EAAZ,EAAYA,MAAO3G,EAAnB,EAAmBA,MAAnB,OAAgC0G,EAAUC,EAAQ3G,EAAM4G,UAGlD,qBAAGC,SAA2B,UAAY,YAClD3G,KAIS4G,EAAYjH,IAAOC,IAAV,KCoBPiH,IAhCK,SAAC,GAMd,IALLJ,EAKI,EALJA,MAKI,IAJJD,eAII,aAHJ3G,aAGI,MAHI,GAGJ,MAFJ8G,gBAEI,aADJjF,eACI,MADM,aACN,EACJ,OACE,kBAAC6E,EAAD,CACE7E,QAAS,kBAAOiF,EAAW,KAAOjF,KAClCiF,SAAUA,EACV9G,MAAOA,EACP4G,MAAOA,EACPD,QAASA,GAERA,EACC,kBAACI,EAAD,KACE,kBAAC,IAAD,CAAOH,MAAM,QAAQK,KAAM,GAAIC,YAAa,KAE5C,Q,mmDCxBV,IAAMC,EAAiB,CACrBC,WAAYC,IAAF,KAcVC,WAAYD,IAAF,KASVE,eAAgBF,IAAF,KAsCdG,mBAAoBH,IAAF,MAuBLF,O,8bCrFf,IAAMM,EAAe,CACnBC,SAAUL,IAAF,KAORM,kBAAmBN,IAAF,MAaJI,O,miBCpBR,IAAMG,EAAqB9H,IAAOC,IAAV,KAGnB,qBAAGyG,UAGFqB,EAAoB/H,IAAOC,IAAV,KAUjB+H,EAAkBhI,IAAOC,IAAV,IACxBgI,KAIO,qBAAG9H,MAAkBiC,SCuBjB8F,IAlCK,SAAC,GAOd,IANLpB,EAMI,EANJA,MACApG,EAKI,EALJA,SACAyH,EAII,EAJJA,QAII,IAHJzB,cAGI,MAHK,aAGL,MAFJ0B,cAEI,aADJrG,eACI,MADM,aACN,EACJ,OACE,kBAAC+F,EAAD,CAAoBpB,OAAQA,GACzByB,EAAQzG,KAAI,SAAC2G,EAAKC,GAAN,OACX,kBAACP,EAAD,CAAmBlG,IAAKyG,GACtB,kBAACpB,EAAA,EAAD,CACEJ,MAAOA,EACPE,UAAU,EACVH,QAAUuB,GAAU1H,IAAe0H,GAAUE,IAAQ5H,EACrDqB,QAAS,kBAAMA,EAAQuG,MAEzB,kBAACN,EAAD,KAAkBK,U,s+CC3BrB,IAAME,EAAwBvI,IAAOC,IAAV,KACvB,qBAAG6G,SAGF,qBAAGJ,UAGF8B,EAAmBxI,IAAOC,IAAV,IAIzBwI,YAAW,SAAU,SAArBA,CAJyB,MAShBC,EAAa1I,IAAOC,IAAV,KAID,qBAAGE,MAAkBsC,SAGvCpC,KAGSsI,EAAe3I,IAAOC,IAAV,KACf,qBAAG2I,WAOS,qBAAGzI,MAAkBC,SAGrB,qBAAG0G,QACrBzG,KAGSwI,EAAc7I,IAAOC,IAAV,KAKF,qBAAG6G,SAGf,qBAAGgC,OAAoBF,WACtB,gBAAGG,EAAH,EAAGA,OAAQD,EAAX,EAAWA,OAAX,OAAwBC,EAAOH,QAAUE,EAAOF,WAG9CI,EAAahJ,IAAOC,IAAV,KAOD,qBAAG6G,SAGH,qBAAG3G,MAAkBC,SAEjC,qBAAGwI,WCvDPK,EAAS,SAAC,GAAD,QACbC,OAAUC,EADG,EACHA,GAAIP,EADD,EACCA,QACdQ,EAFa,EAEbA,eACAtC,EAHa,EAGbA,MAHa,OAKb,kBAAC6B,EAAD,eAAcC,QAASA,EAAS9B,MAAOA,GAAWsC,EAAeD,MAG7DE,EAAQ,SAAC,GAAD,IAAGP,EAAH,EAAGA,OAAQC,EAAX,EAAWA,OAAQjC,EAAnB,EAAmBA,MAAOwC,EAA1B,EAA0BA,cAA1B,OACZ,kBAACT,EAAD,eAAaE,OAAQA,EAAQD,OAAQA,EAAQhC,MAAOA,GAAWwC,OAwGlDC,iBArGQ,SAAC,GAatB,IAHK,IATLpJ,EASI,EATJA,MACAqJ,EAQI,EARJA,SACAC,EAOI,EAPJA,YACA3C,EAMI,EANJA,MACA4C,EAKI,EALJA,SAKI,IAJJhD,cAII,MAJG,aAIH,MAHJiD,iBAGI,aAFJjJ,gBAEI,aADJkJ,mBACI,MADQ,kBAAM,MACd,EACEC,EAAaL,EAAW,EAAI,KAAOA,EAAW,GAAK,IACrDM,EAAc,GACTC,EAAI,EAAGA,EAAI,IAAKA,GAAKF,EAC5BC,EAAYE,KAAKD,GAInB,OAFAD,EAAYE,KAAK,KAGf,kBAACzB,EAAD,CAAuB7B,OAAQA,GAC7B,kBAAC8B,EAAD,KACE,kBAAC,IAAD,CACEyB,KAAM,EACNC,KAAM,EACNC,OAAQ,CAAC,EAAGX,EAAW,GACvBE,SAAU,SAACU,GACTV,EAASU,GACLA,EAAQ,GACVR,GAAY,IAGhBS,OAAQ,CAACZ,GACTa,UAAW,CACTC,SAAU,WACVrK,MAAO,OACPsK,OAAQ,QAGV,kBAAC,IAAD,MACG,gBAAGC,EAAH,EAAGA,aAAH,OACC,oCACE,kBAAC/B,EAAe+B,KACfd,GAAaG,EAAYpI,KAAI,SAACkH,EAASN,GAAV,OAC5B,kBAACU,EAAD,eACEnH,IAAK+G,EACL9B,MAAOwB,GAAOmB,EAAc3C,EAAQ3G,EAAMsC,OAC1CmG,QAASA,GACL6B,aAMd,kBAAC,IAAD,MACG,gBAAGC,EAAH,EAAGA,QAAStB,EAAZ,EAAYA,eAAZ,OACC,yBACEuB,UAAU,iBACV5I,QAAS,kBAAM6H,GAAY,KAE1Bc,EAAQhJ,KAAI,SAAAwH,GAAM,OACjB,kBAAC,EAAD,CACErH,IAAKqH,EAAOC,GACZD,OAAQA,EACRE,eAAgBA,EAChBtC,MAAOpG,EAAWoG,EAAQ3G,EAAMsC,gBAM1C,kBAAC,IAAD,CAAQmI,OAAO,IACZ,gBAAGC,EAAH,EAAGA,OAAQvB,EAAX,EAAWA,cAAX,OACC,yBAAKqB,UAAU,iBACZE,EAAOnJ,KAAI,gBAAGyH,EAAH,EAAGA,GAAIL,EAAP,EAAOA,OAAQC,EAAf,EAAeA,OAAf,OACV,kBAAC,EAAD,CACElH,IAAKsH,EACLL,OAAQA,EACRC,OAAQA,EACRjC,MAAOA,EACPwC,cAAeA,kB,iCCvGnC,IAAIwB,EAAiB,EAAQ,KAEzBC,EAAqB,EAAQ,KAE7BC,EAAkB,EAAQ,KAE1BC,EAAkB,EAAQ,KAE1BC,EAAe,EAAQ,KA8H3B,SAASC,EAAOf,EAAOjC,GACrB,OAAIA,EAAQgD,OACHhD,EAAQiD,OAASJ,EAAgBZ,GAASiB,mBAAmBjB,GAG/DA,EAGT,SAASkB,EAAOlB,EAAOjC,GACrB,OAAIA,EAAQmD,OACHL,EAAgBb,GAGlBA,EAmBT,SAASmB,EAAWC,GAClB,IAAIC,EAAYD,EAAME,QAAQ,KAM9B,OAJmB,IAAfD,IACFD,EAAQA,EAAMG,MAAM,EAAGF,IAGlBD,EAGT,SAASI,EAAQJ,GAEf,IAAIK,GADJL,EAAQD,EAAWC,IACIE,QAAQ,KAE/B,OAAoB,IAAhBG,EACK,GAGFL,EAAMG,MAAME,EAAa,GAGlC,SAASC,EAAW1B,EAAOjC,GAOzB,OANIA,EAAQ4D,eAAiBC,OAAOC,MAAMD,OAAO5B,KAA4B,kBAAVA,GAAuC,KAAjBA,EAAM8B,OAC7F9B,EAAQ4B,OAAO5B,IACNjC,EAAQgE,eAA2B,OAAV/B,GAA2C,SAAxBA,EAAMgC,eAAoD,UAAxBhC,EAAMgC,gBAC7FhC,EAAgC,SAAxBA,EAAMgC,eAGThC,EAGT,SAASiC,EAAMb,EAAOrD,GAQpB,IAAImE,EAjIN,SAA8BnE,GAC5B,IAAIoE,EAEJ,OAAQpE,EAAQqE,aACd,IAAK,QACH,OAAO,SAAU3K,EAAKuI,EAAOqC,GAC3BF,EAAS,aAAaG,KAAK7K,GAC3BA,EAAMA,EAAI8K,QAAQ,WAAY,IAEzBJ,QAKoBK,IAArBH,EAAY5K,KACd4K,EAAY5K,GAAO,IAGrB4K,EAAY5K,GAAK0K,EAAO,IAAMnC,GAR5BqC,EAAY5K,GAAOuI,GAWzB,IAAK,UACH,OAAO,SAAUvI,EAAKuI,EAAOqC,GAC3BF,EAAS,UAAUG,KAAK7K,GACxBA,EAAMA,EAAI8K,QAAQ,QAAS,IAEtBJ,OAKoBK,IAArBH,EAAY5K,GAKhB4K,EAAY5K,GAAO,GAAGgL,OAAOJ,EAAY5K,GAAMuI,GAJ7CqC,EAAY5K,GAAO,CAACuI,GALpBqC,EAAY5K,GAAOuI,GAYzB,IAAK,QACH,OAAO,SAAUvI,EAAKuI,EAAOqC,GAC3B,IACIK,EAD2B,kBAAV1C,GAAsBA,EAAM2C,MAAM,IAAIrB,QAAQ,MAAQ,EAClDtB,EAAM2C,MAAM,KAAO3C,EAC5CqC,EAAY5K,GAAOiL,GAGvB,QACE,OAAO,SAAUjL,EAAKuI,EAAOqC,QACFG,IAArBH,EAAY5K,GAKhB4K,EAAY5K,GAAO,GAAGgL,OAAOJ,EAAY5K,GAAMuI,GAJ7CqC,EAAY5K,GAAOuI,IAgFX4C,CAPhB7E,EAAU8E,OAAOC,OAAO,CACtB5B,QAAQ,EACR6B,MAAM,EACNX,YAAa,OACbT,cAAc,EACdI,eAAe,GACdhE,IAGCiF,EAAMH,OAAOI,OAAO,MAExB,GAAqB,kBAAV7B,EACT,OAAO4B,EAKT,KAFA5B,EAAQA,EAAMU,OAAOS,QAAQ,SAAU,KAGrC,OAAOS,EAGT,IAAIE,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBZ,EAErB,IACE,IAAK,IAAqDa,EAAjDC,EAAYlC,EAAMuB,MAAM,KAAKY,OAAOC,cAAsBN,GAA6BG,EAAQC,EAAUG,QAAQC,MAAOR,GAA4B,EAAM,CACjK,IAAIS,EAAQN,EAAMrD,MAEd4D,EAAgB9C,EAAa6C,EAAMpB,QAAQ,MAAO,KAAM,KACxDsB,EAAiBnD,EAAekD,EAAe,GAC/CnM,EAAMoM,EAAe,GACrB7D,EAAQ6D,EAAe,GAI3B7D,OAAkBwC,IAAVxC,EAAsB,KAAOkB,EAAOlB,EAAOjC,GACnDmE,EAAUhB,EAAOzJ,EAAKsG,GAAUiC,EAAOgD,IAEzC,MAAOc,GACPX,GAAoB,EACpBC,EAAiBU,EACjB,QACA,IACOZ,GAAiD,MAApBI,EAAUS,QAC1CT,EAAUS,SAEZ,QACA,GAAIZ,EACF,MAAMC,GAKZ,IAAK,IAAIY,EAAK,EAAGC,EAAepB,OAAOqB,KAAKlB,GAAMgB,EAAKC,EAAavM,OAAQsM,IAAM,CAChF,IAAIG,EAAOF,EAAaD,GACpBI,EAASpB,EAAImB,GAEjB,GAAsB,kBAAXC,GAAkC,OAAXA,EAChC,IAAK,IAAIC,EAAM,EAAGC,EAAgBzB,OAAOqB,KAAKE,GAASC,EAAMC,EAAc5M,OAAQ2M,IAAO,CACxF,IAAIE,EAAID,EAAcD,GACtBD,EAAOG,GAAK7C,EAAW0C,EAAOG,GAAIxG,QAGpCiF,EAAImB,GAAQzC,EAAW0C,EAAQrG,GAInC,OAAqB,IAAjBA,EAAQgF,KACHC,IAGgB,IAAjBjF,EAAQgF,KAAgBF,OAAOqB,KAAKlB,GAAKD,OAASF,OAAOqB,KAAKlB,GAAKD,KAAKhF,EAAQgF,OAAOyB,QAAO,SAAUrC,EAAQ1K,GACtH,IAAIuI,EAAQgD,EAAIvL,GAShB,OAPIgN,QAAQzE,IAA2B,kBAAVA,IAAuB0E,MAAMC,QAAQ3E,GAEhEmC,EAAO1K,GA7Hb,SAASmN,EAAWxD,GAClB,OAAIsD,MAAMC,QAAQvD,GACTA,EAAM2B,OAGM,kBAAV3B,EACFwD,EAAW/B,OAAOqB,KAAK9C,IAAQ2B,MAAK,SAAU8B,EAAGC,GACtD,OAAOlD,OAAOiD,GAAKjD,OAAOkD,MACzBxN,KAAI,SAAUG,GACf,OAAO2J,EAAM3J,MAIV2J,EAgHWwD,CAAW5E,GAEzBmC,EAAO1K,GAAOuI,EAGTmC,IACNU,OAAOI,OAAO,OAGnB8B,EAAQvD,QAAUA,EAClBuD,EAAQ9C,MAAQA,EAEhB8C,EAAQC,UAAY,SAAUC,EAAQlH,GACpC,IAAKkH,EACH,MAAO,GAQT,IAAI/C,EA/RN,SAA+BnE,GAC7B,OAAQA,EAAQqE,aACd,IAAK,QACH,OAAO,SAAU3K,GACf,OAAO,SAAU0K,EAAQnC,GACvB,IAAIxI,EAAQ2K,EAAOzK,OAEnB,YAAc8K,IAAVxC,EACKmC,EAIA,GAAGM,OAAO9B,EAAmBwB,GADxB,OAAVnC,EAC2C,CAAC,CAACe,EAAOtJ,EAAKsG,GAAU,IAAKvG,EAAO,KAAK0N,KAAK,KAGhD,CAAC,CAACnE,EAAOtJ,EAAKsG,GAAU,IAAKgD,EAAOvJ,EAAOuG,GAAU,KAAMgD,EAAOf,EAAOjC,IAAUmH,KAAK,QAI3I,IAAK,UACH,OAAO,SAAUzN,GACf,OAAO,SAAU0K,EAAQnC,GACvB,YAAcwC,IAAVxC,EACKmC,EAIA,GAAGM,OAAO9B,EAAmBwB,GADxB,OAAVnC,EAC2C,CAAC,CAACe,EAAOtJ,EAAKsG,GAAU,MAAMmH,KAAK,KAGrC,CAAC,CAACnE,EAAOtJ,EAAKsG,GAAU,MAAOgD,EAAOf,EAAOjC,IAAUmH,KAAK,QAI/G,IAAK,QACH,OAAO,SAAUzN,GACf,OAAO,SAAU0K,EAAQnC,EAAOxI,GAC9B,OAAc,OAAVwI,QAA4BwC,IAAVxC,GAAwC,IAAjBA,EAAMtI,OAC1CyK,EAGK,IAAV3K,EACK,CAAC,CAACuJ,EAAOtJ,EAAKsG,GAAU,IAAKgD,EAAOf,EAAOjC,IAAUmH,KAAK,KAG5D,CAAC,CAAC/C,EAAQpB,EAAOf,EAAOjC,IAAUmH,KAAK,QAIpD,QACE,OAAO,SAAUzN,GACf,OAAO,SAAU0K,EAAQnC,GACvB,YAAcwC,IAAVxC,EACKmC,EAIA,GAAGM,OAAO9B,EAAmBwB,GADxB,OAAVnC,EAC2C,CAACe,EAAOtJ,EAAKsG,IAGf,CAAC,CAACgD,EAAOtJ,EAAKsG,GAAU,IAAKgD,EAAOf,EAAOjC,IAAUmH,KAAK,SAmO/FC,CALhBpH,EAAU8E,OAAOC,OAAO,CACtB/B,QAAQ,EACRC,QAAQ,EACRoB,YAAa,QACZrE,IAECmG,EAAOrB,OAAOqB,KAAKe,GAMvB,OAJqB,IAAjBlH,EAAQgF,MACVmB,EAAKnB,KAAKhF,EAAQgF,MAGbmB,EAAK5M,KAAI,SAAUG,GACxB,IAAIuI,EAAQiF,EAAOxN,GAEnB,YAAc+K,IAAVxC,EACK,GAGK,OAAVA,EACKe,EAAOtJ,EAAKsG,GAGjB2G,MAAMC,QAAQ3E,GACTA,EAAMwE,OAAOtC,EAAUzK,GAAM,IAAIyN,KAAK,KAGxCnE,EAAOtJ,EAAKsG,GAAW,IAAMgD,EAAOf,EAAOjC,MACjDqH,QAAO,SAAUC,GAClB,OAAOA,EAAE3N,OAAS,KACjBwN,KAAK,MAGVH,EAAQO,SAAW,SAAUlE,EAAOrD,GAClC,MAAO,CACLwH,IAAKpE,EAAWC,GAAOuB,MAAM,KAAK,IAAM,GACxC6C,MAAOvD,EAAMT,EAAQJ,GAAQrD,M,oBC1UjC,IAAI0H,EAAiB,EAAQ,KAEzBC,EAAuB,EAAQ,KAE/BC,EAAkB,EAAQ,KAM9BC,EAAOb,QAJP,SAAwBc,EAAKlG,GAC3B,OAAO8F,EAAeI,IAAQH,EAAqBG,EAAKlG,IAAMgG,M,kBCHhEC,EAAOb,QAJP,SAAyBc,GACvB,GAAInB,MAAMC,QAAQkB,GAAM,OAAOA,I,kBC6BjCD,EAAOb,QA9BP,SAA+Bc,EAAKlG,GAClC,GAAM4D,OAAOC,YAAYX,OAAOgD,IAAgD,uBAAxChD,OAAOiD,UAAUC,SAASC,KAAKH,GAAvE,CAIA,IAAII,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAK5D,EAET,IACE,IAAK,IAAiC6D,EAA7BrC,EAAK6B,EAAItC,OAAOC,cAAmB0C,GAAMG,EAAKrC,EAAGP,QAAQC,QAChEuC,EAAKrG,KAAKyG,EAAGrG,QAETL,GAAKsG,EAAKvO,SAAWiI,GAH8CuG,GAAK,IAK9E,MAAOpC,GACPqC,GAAK,EACLC,EAAKtC,EACL,QACA,IACOoC,GAAsB,MAAhBlC,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAImC,EAAI,MAAMC,GAIlB,OAAOH,K,kBCvBTL,EAAOb,QAJP,WACE,MAAM,IAAIuB,UAAU,0D,oBCDtB,IAAIC,EAAoB,EAAQ,KAE5BC,EAAkB,EAAQ,KAE1BC,EAAoB,EAAQ,KAMhCb,EAAOb,QAJP,SAA4Bc,GAC1B,OAAOU,EAAkBV,IAAQW,EAAgBX,IAAQY,M,kBCG3Db,EAAOb,QAVP,SAA4Bc,GAC1B,GAAInB,MAAMC,QAAQkB,GAAM,CACtB,IAAK,IAAIlG,EAAI,EAAG+G,EAAO,IAAIhC,MAAMmB,EAAInO,QAASiI,EAAIkG,EAAInO,OAAQiI,IAC5D+G,EAAK/G,GAAKkG,EAAIlG,GAGhB,OAAO+G,K,kBCFXd,EAAOb,QAJP,SAA0B4B,GACxB,GAAIpD,OAAOC,YAAYX,OAAO8D,IAAkD,uBAAzC9D,OAAOiD,UAAUC,SAASC,KAAKW,GAAgC,OAAOjC,MAAMkC,KAAKD,K,kBCG1Hf,EAAOb,QAJP,WACE,MAAM,IAAIuB,UAAU,qD,iCCCtBV,EAAOb,QAAU,SAAU8B,GACzB,OAAO5F,mBAAmB4F,GAAKtE,QAAQ,YAAY,SAAU8C,GAC3D,MAAO,IAAI5C,OAAO4C,EAAEyB,WAAW,GAAGf,SAAS,IAAIgB,oB,iCCFnD,IACIC,EAAgB,IAAIC,OADZ,eAC0B,MAClCC,EAAe,IAAID,OAAO,kBAAoB,MAElD,SAASE,EAAiBC,EAAYzE,GACpC,IAEE,OAAO0E,mBAAmBD,EAAWlC,KAAK,KAC1C,MAAOpB,IAGT,GAA0B,IAAtBsD,EAAW1P,OACb,OAAO0P,EAGTzE,EAAQA,GAAS,EAEjB,IAAI2E,EAAOF,EAAW7F,MAAM,EAAGoB,GAC3BnC,EAAQ4G,EAAW7F,MAAMoB,GAC7B,OAAO+B,MAAMoB,UAAUrD,OAAOuD,KAAK,GAAImB,EAAiBG,GAAOH,EAAiB3G,IAGlF,SAASU,EAAOE,GACd,IACE,OAAOiG,mBAAmBjG,GAC1B,MAAO0C,GAGP,IAFA,IAAIyD,EAASnG,EAAMoG,MAAMR,GAEhBrH,EAAI,EAAGA,EAAI4H,EAAO7P,OAAQiI,IAEjC4H,GADAnG,EAAQ+F,EAAiBI,EAAQ5H,GAAGuF,KAAK,KAC1BsC,MAAMR,GAGvB,OAAO5F,GAwCXwE,EAAOb,QAAU,SAAU0C,GACzB,GAA0B,kBAAfA,EACT,MAAM,IAAInB,UAAU,6DAA+DmB,EAAa,KAGlG,IAGE,OAFAA,EAAaA,EAAWlF,QAAQ,MAAO,KAEhC8E,mBAAmBI,GAC1B,MAAO3D,GAEP,OA/CJ,SAAkC1C,GAQhC,IANA,IAAIsG,EAAa,CACf,SAAU,eACV,SAAU,gBAERF,EAAQN,EAAa5E,KAAKlB,GAEvBoG,GAAO,CACZ,IAEEE,EAAWF,EAAM,IAAMH,mBAAmBG,EAAM,IAChD,MAAO1D,GACP,IAAI3B,EAASjB,EAAOsG,EAAM,IAEtBrF,IAAWqF,EAAM,KACnBE,EAAWF,EAAM,IAAMrF,GAI3BqF,EAAQN,EAAa5E,KAAKlB,GAI5BsG,EAAW,OAAS,SAGpB,IAFA,IAAIC,EAAU9E,OAAOqB,KAAKwD,GAEjB/H,EAAI,EAAGA,EAAIgI,EAAQjQ,OAAQiI,IAAK,CAEvC,IAAIlI,EAAMkQ,EAAQhI,GAClByB,EAAQA,EAAMmB,QAAQ,IAAI0E,OAAOxP,EAAK,KAAMiQ,EAAWjQ,IAGzD,OAAO2J,EAcEwG,CAAyBH,M,iCCpFpC7B,EAAOb,QAAU,SAAU8C,EAAQC,GACjC,GAAwB,kBAAXD,GAA4C,kBAAdC,EACzC,MAAM,IAAIxB,UAAU,iDAGtB,GAAkB,KAAdwB,EACF,MAAO,CAACD,GAGV,IAAIE,EAAiBF,EAAOvG,QAAQwG,GAEpC,OAAwB,IAApBC,EACK,CAACF,GAGH,CAACA,EAAOtG,MAAM,EAAGwG,GAAiBF,EAAOtG,MAAMwG,EAAiBD,EAAUpQ,W,oBCjBnFkO,EAAOb,QAAU,IAA0B,wC,6lDCQpC,IAAMiD,EAAqBpS,IAAOC,IAAV,IAC3BoS,KAISC,EAAuBtS,IAAOC,IAAV,IAIPsS,KACJ,qBAAGpS,MAAkBqS,mBAKvC/J,YAAW,SAAU,SAArBA,CAV6B,MAepBgK,EAAoBzS,IAAOC,IAAV,IAC1ByS,IACAC,KASO,qBAAGxS,MAAkByS,UAKnBC,EAAgB7S,IAAOC,IAAV,IACtByS,KAKSI,EAAU9S,IAAOC,IAAV,IAChB8S,IAEAtK,YAAW,SAAU,SAArBA,CAHgB,MAUPuK,EAAUhT,IAAOC,IAAV,IAChBgT,IAEAxK,YAAW,SAAU,SAArBA,CAHgB,MASPyK,EAAalT,YAAOmT,IAAPnT,CAAH,IACnBkD,KACO,qBAAE/C,MAAiBiT,WAGjBC,EAAWrT,YAAOmT,IAAPnT,CAAH,IAClBkD,KACQ,qBAAE/C,MAAiBmT,c,0CCtEjBC,EAAgB,CAC3B,CACEC,OAAQ,cACRC,SAAU,OACV7Q,MAAO,OACPC,SAAU,IACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,OACJ,kBAAC8M,EAAD,CAAYQ,GAAIC,YAAmBvN,EAAKgE,QACtCwJ,YAAgBxN,EAAKgE,UAI3B,CACEoJ,OAAQ,cACRC,SAAU,OACV7Q,MAAO,OACPC,SAAU,KAEZ,CACE2Q,OAAQ,UACRC,SAAU,UACV7Q,MAAO,QACPC,SAAU,IAEZ,CACE2Q,OAAQ,SACRC,SAAU,SACV7Q,MAAO,QACPC,SAAU,GACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,gBAAiByN,KAAKC,MAAmB,IAAb1N,EAAKgE,OAAjC,OAER,CACEoJ,OAAQ,OACRC,SAAU,OACV7Q,MAAO,QACPC,SAAU,GACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,gBAAiByN,KAAKC,MAAmB,IAAb1N,EAAKgE,OAAjC,OAER,CACEoJ,OAAQ,QACRC,SAAU,QACV7Q,MAAO,QACPC,SAAU,GACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,gBAAiByN,KAAKC,MAAmB,IAAb1N,EAAKgE,OAAjC,QAIG2J,EAAc,CACzB,CACEP,OAAQ,iBACRC,SAAU,YACV7Q,MAAO,OACPC,SAAU,IACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,OACJ,kBAACiN,EAAD,CAAUK,GAAIM,YAAiB5N,EAAKgE,MAAM6J,OACvC7N,EAAKgE,MAAM8J,QAIlB,CACEV,OAAQ,UACRC,SAAU,UACV7Q,MAAO,QACPC,SAAU,IAEZ,CACE2Q,OAAQ,QACRC,SAAU,QACV7Q,MAAO,QACPC,SAAU,GACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,gBAAiByN,KAAKC,MAAmB,IAAb1N,EAAKgE,OAAjC,OAER,CACEoJ,OAAQ,WACRC,SAAU,WACV7Q,MAAO,QACPC,SAAU,GACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,gBAAiByN,KAAKC,MAAmB,IAAb1N,EAAKgE,OAAjC,OAER,CACEoJ,OAAQ,QACRC,SAAU,QACV7Q,MAAO,QACPC,SAAU,GACVY,KAAM,gBAAG2C,EAAH,EAAGA,KAAH,gBAAiByN,KAAKC,MAAmB,IAAb1N,EAAKgE,OAAjC,Q,4FCxFH,IAAM+J,EAAuBnU,IAAOC,IAAV,KCS3BmU,EAAkBC,cAClBC,EAAeC,cA0HNC,EAxHO,SAAC,GAShB,IARLC,EAQI,EARJA,YACA3Q,EAOI,EAPJA,KACA4Q,EAMI,EANJA,WACAC,EAKI,EALJA,cACAC,EAII,EAJJA,cACAC,EAGI,EAHJA,YACA9Q,EAEI,EAFJA,QACAE,EACI,EADJA,UAEMmP,EAAUtP,EAAOA,EAAKgR,OAAOpT,KAAI,SAAAoT,GAAM,OAAI7H,OAAO,CACtD9D,GAAI2L,EAAO3L,GACX8K,KAAMa,EAAOb,KACbC,KAAMY,EAAOZ,KACba,YAAaD,EAAOC,YACpBC,QAASF,EAAOG,yBAAyBC,UAAUC,MACnDC,KAAMN,EAAOG,yBAAyBC,UAAUG,IAAID,KAAO,EAC3DE,MAAOR,EAAOG,yBAAyBC,UAAUG,IAAIC,MACrDC,OAAQT,EAAOG,yBAAyBC,UAAUG,IAAIE,OAAS,EAC/DC,SAAUV,EAAOU,cACb,GAEAC,EAAQ3R,EAAOA,EAAK4R,KAAKhU,KAAI,SAAAgU,GAAI,OAAIzI,OAAO,CAChD0I,UAAW,CACT1B,KAAMyB,EAAKzB,KACXC,KAAMwB,EAAKxB,MAEbc,QAASU,EAAKE,uBAAuBV,UAAUC,MAC/CU,MAAOH,EAAKE,uBAAuBV,UAAUG,IAAIQ,MAAQ,EACzDC,SAAUJ,EAAKE,uBAAuBV,UAAUG,IAAIS,SAAW,EAC/DR,MAAOI,EAAKT,yBAAyBC,UAAUG,IAAIC,MACnDlC,QAASsC,EAAKK,aAAarU,KAAI,SAAAoT,GAAM,OAAIA,EAAOb,aAC5C,GAEA+B,EAAkBC,uBAAY,WAElC,IADA,IAAIC,EAAW,GACNnM,EAAI0K,EAAY0B,YAAYrU,OAAS,EAAGiI,GAAK,EAAGA,IACnD0K,EAAY0B,YAAYpM,KAC1BmM,GAAQ,WAAQnM,EAAI0K,EAAY0B,YAAYrU,OAAS,EAAIiI,EAAI,EAAI,UAIrE,OADAmM,EAAwB,KAAbA,EAAkB,KAAlB,WAA6BA,EAASvK,MAAM,GAA5C,eACJ,IAAI0F,OAAO6E,KACjB,CAACzB,IAEE2B,EAAkBhD,EAAQ5D,QAAO,SAAAsF,GAAM,OAC3CkB,IAAkBK,KAAKvB,EAAOb,OACzBa,EAAOE,SAAWJ,EAAcH,EAAY6B,qBAC1C7B,EAAY8B,aAAgB9B,EAAY8B,aAAezB,EAAOU,UAC5DV,EAAOU,SAASgB,MAAK,SAAAC,GAAO,OAAIzK,OAAOyK,EAAQC,QAAUtC,SAC3DK,EAAYkC,UAAalC,EAAYkC,UAAY7B,EAAOU,UACtDV,EAAOU,SAASgB,MAAK,SAAAC,GAAO,OAAIzK,OAAOyK,EAAQC,QAAUpC,SAG9DsC,EAAgBnB,EAAMjG,QAAO,SAAAkG,GAAI,OACrCA,EAAKV,SAAWJ,EAAcH,EAAYoC,kBACP,IAA7BpC,EAAYqC,cACTpB,EAAKtC,QAAQ2D,SAASlC,EAAYJ,EAAYqC,mBAGnDE,EAA8B,IAAftC,EACf1Q,EAAgBgT,GAAgBlT,GAAQsP,EAAQtR,QAAUgC,EAAKmT,iBAAiB/B,UAAUC,QAC5F6B,GAAgBlT,GAAQ2R,EAAM3T,QAAUgC,EAAKoT,eAAehC,UAAUC,MAEpEgC,EAAU,kBACd,kBAAChD,EAAD,KACE,kBAACvQ,EAAA,EAAD,CACEE,KAAMkT,EAAeZ,EAAkBQ,EACvC/S,QAASmT,EAAezD,EAAgBQ,EACxCqD,gBAAiBJ,EAAe,EAAI,EACpC/T,UAAQ,EACRc,QAASA,EACTC,aAAcA,EACdC,UAAW,WACLF,GAA+B,IAAnBqP,EAAQtR,QAAiC,IAAjB2T,EAAM3T,QAAiBkC,GAI/DC,EAAU,CACRoT,UAAW,CAAEC,cAAelE,EAAQtR,OAAQyV,YAAa9B,EAAM3T,QAC/D0V,YAAa,SAACC,EAAD,GAAgC,IAAvBC,EAAsB,EAAtBA,gBACpB,OAAKA,EACEzK,OAAOC,OAAO,GAAIuK,EAAM,CAC7B3C,OAAO,GAAD,mBAAM2C,EAAK3C,QAAX,YAAsB4C,EAAgB5C,SAC5CY,KAAK,GAAD,mBAAM+B,EAAK/B,MAAX,YAAoBgC,EAAgBhC,SAHb+B,UAYzC,OACE,kBAACxW,EAAA,EAAD,CACEC,QAAS,CACP,CACEa,QAAS,kBAAM4S,EAAc,IAC7B3S,MAAM,WAAD,OAAa8B,EAAI,WAAOA,EAAKmT,iBAAiB/B,UAAUC,MAAvC,KAAkD,IACxElT,OAAQkV,GAEV,CACEpV,QAAS,kBAAM4S,EAAc,IAC7B3S,MAAM,SAAD,OAAW8B,EAAI,WAAOA,EAAKoT,eAAehC,UAAUC,MAArC,KAAgD,IACpElT,OAAQkV,IAGZ9V,mBAAoBqT,EACpBpT,eAAe,O,gBC1HrB,SAASqW,IAeP,OAdAA,EAAW1K,OAAOC,QAAU,SAAUnE,GACpC,IAAK,IAAIgB,EAAI,EAAGA,EAAI6N,UAAU9V,OAAQiI,IAAK,CACzC,IAAIjB,EAAS8O,UAAU7N,GAEvB,IAAK,IAAIlI,KAAOiH,EACVmE,OAAOiD,UAAU2H,eAAezH,KAAKtH,EAAQjH,KAC/CkH,EAAOlH,GAAOiH,EAAOjH,IAK3B,OAAOkH,IAGO+O,MAAMC,KAAMH,WAG9B,SAASI,EAAyBlP,EAAQmP,GACxC,GAAc,MAAVnP,EAAgB,MAAO,GAE3B,IAEIjH,EAAKkI,EAFLhB,EAkBN,SAAuCD,EAAQmP,GAC7C,GAAc,MAAVnP,EAAgB,MAAO,GAC3B,IAEIjH,EAAKkI,EAFLhB,EAAS,GACTmP,EAAajL,OAAOqB,KAAKxF,GAG7B,IAAKiB,EAAI,EAAGA,EAAImO,EAAWpW,OAAQiI,IACjClI,EAAMqW,EAAWnO,GACbkO,EAASvM,QAAQ7J,IAAQ,IAC7BkH,EAAOlH,GAAOiH,EAAOjH,IAGvB,OAAOkH,EA9BMoP,CAA8BrP,EAAQmP,GAInD,GAAIhL,OAAOmL,sBAAuB,CAChC,IAAIC,EAAmBpL,OAAOmL,sBAAsBtP,GAEpD,IAAKiB,EAAI,EAAGA,EAAIsO,EAAiBvW,OAAQiI,IACvClI,EAAMwW,EAAiBtO,GACnBkO,EAASvM,QAAQ7J,IAAQ,GACxBoL,OAAOiD,UAAUoI,qBAAqBlI,KAAKtH,EAAQjH,KACxDkH,EAAOlH,GAAOiH,EAAOjH,IAIzB,OAAOkH,EAqBT,IAAI,EAAI,SAAWwP,GACjB,IAAIzR,EAAQyR,EAAMzR,MACdK,EAAOoR,EAAMpR,KACbqR,EAAaR,EAAyBO,EAAO,CAAC,QAAS,SAE3D,OAAO,IAAME,cAAc,MAAOd,EAAS,CACzCe,MAAO,6BACPxY,MAAOiH,EACPqD,OAAQrD,EACRwR,QAAS,YACTC,KAAM,OACNC,OAAQ/R,EACRM,YAAa,IACb0R,cAAe,QACfC,eAAgB,SACfP,GAAa,IAAMC,cAAc,OAAQ,CAC1CO,GAAI,KACJC,GAAI,IACJC,GAAI,IACJC,GAAI,OACF,IAAMV,cAAc,OAAQ,CAC9BO,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,SAIR,EAAEC,UAAY,CACZtS,MAAO,IAAUmL,OACjB9K,KAAM,IAAUkS,UAAU,CAAC,IAAUpH,OAAQ,IAAUqH,UAEzD,EAAEC,aAAe,CACfzS,MAAO,eACPK,KAAM,MAEO,Q,iiBC1FR,IAAMqS,GAA2BxZ,IAAOC,IAAV,MAGzB,qBAAEyG,UAGD+S,GAAgBzZ,IAAOC,IAAV,KAMtBgI,IACA5H,KAGO,gBAAEF,EAAF,EAAEA,MAAF,SAASO,SAAyBP,EAAMyS,OAASzS,EAAMgD,WAC5C,qBAAEhD,MAAiBgD,WACnB,gBAAEhD,EAAF,EAAEA,MAAF,SAASO,SAAyBP,EAAMgD,QAAUhD,EAAMC,SAOtD,gBAAED,EAAF,EAAEA,MAAF,SAASO,SAAyBP,EAAMiD,YAAcjD,EAAMyS,UCKrE8G,GAxBW,SAAC,GAErB,IADJvR,EACG,EADHA,QAASzH,EACN,EADMA,SACN,IADgBgG,cAChB,MADyB,aACzB,MADuC3E,eACvC,MADiD,aACjD,EACH,OACE,kBAACyX,GAAD,CAA0B9S,OAAQA,GAC/ByB,EAAQzG,KAAI,SAACiY,EAAQrR,GAAT,OACX,kBAACmR,GAAD,CACE/Y,SAAUA,EAAS4H,GACnBvG,QAAS,kBAAMA,EAAQuG,IACvBzG,IAAKyG,GAEJqR,Q,8vDChBJ,IAAMC,GAAsB5Z,IAAOC,IAAV,KAC5B4Z,YAAK,aACLxZ,IAGAoI,YAAW,SAAU,SAArBA,CAL4B,OAUnBqR,GAAqB9Z,IAAOC,IAAV,KAC3Ba,KACO,qBAAEX,MAAiBS,SAIjBmZ,GAAmB/Z,IAAOC,IAAV,KACzB+Z,KACO,qBAAE7Z,MAAiBiC,SAIjB6X,GAAsBja,IAAOC,IAAV,MAInB6H,GAAqB9H,IAAOC,IAAV,MAMlBia,GAAuBla,IAAOgD,KAAV,MAIpBmX,GAAiBna,IAAOgD,KAAV,KACvBiF,KACO,qBAAE9H,MAAiBU,SAGjBuZ,GAAoBpa,IAAOC,IAAV,MAOjBoa,GAAWra,IAAOgD,KAAV,MAIRsX,GAActa,IAAOua,OAAV,MAMF,qBAAEpa,MAAiBgD,UACrC9C,IACA4H,KACO,qBAAE9H,MAAiByS,UAKN,qBAAEzS,MAAiBiD,eAI9BoX,GAAsBxa,IAAOC,IAAV,MAMnBwa,GAAWza,IAAOgD,KAAV,MCrDjB0X,GAAsB,CAAC,EAAG,EAAG,EAAG,GAAGhZ,KAAI,SAAAiZ,GAAG,OAC5C,8BACE,kBAACN,GAAD,KAAWM,GADb,SAIFD,GAAoB1Q,KAClB,8BACE,kBAACqQ,GAAD,UADF,QAKF,IAAMO,GAAoBC,YAAexG,eACnCyG,GAAiBD,YAAetG,eA2HvBhL,gBAzHM,SAAC,GAYf,IAXLsL,EAWI,EAXJA,YACAJ,EAUI,EAVJA,YACAsG,EASI,EATJA,eACAC,EAQI,EARJA,eACAC,EAOI,EAPJA,YACAC,EAMI,EANJA,cACAC,EAKI,EALJA,gBACAC,EAII,EAJJA,aACAxG,EAGI,EAHJA,cACAoC,EAEI,EAFJA,aACA7W,EACI,EADJA,MAEMkb,EAAarE,EACfvC,EAAY6B,iBACZ7B,EAAYoC,eAEVyE,EACJ,oCACE,kBAAClB,GAAD,KACE,kBAACL,GAAD,yBACA,kBAACI,GAAD,eACQvF,EAAcyG,GADtB,aAIF,kBAACE,GAAA,EAAD,CACE/R,SAAUoL,EAAc9S,OACxB2H,YAAa4R,EACbvU,MAAO3G,EAAMgD,QACbuG,SAAU,SAAAU,GAAK,OAAI8Q,EAAc9Q,EAAM,KACvCT,WAAW,KAKjB,OACE,kBAACiQ,GAAD,KACE,kBAACY,GAAD,KACE,kBAACV,GAAD,6BAED9C,EACC,oCACE,kBAACiD,GAAD,KACE,kBAACF,GAAD,oBACA,kBAAC,GAAD,CACE5R,QAASuS,GACTha,SAAU+T,EAAY0B,YACtBpU,QAAS,SAAAuG,GACPyS,EAAe,GAAD,mBACTtG,EAAY0B,YAAYxK,MAAM,EAAGrD,IADxB,EAEXmM,EAAY0B,YAAY7N,IAFb,YAGTmM,EAAY0B,YAAYxK,MAAMrD,EAAM,UAK/C,kBAAC2R,GAAD,KAAsBqB,GACtB,kBAACrB,GAAD,KACE,kBAACF,GAAD,mBACA,kBAACjS,GAAD,KACE,kBAACI,GAAA,EAAD,CACEpB,MAAO3G,EAAMgD,QACbzC,SAAU+T,EAAY8B,YACtBpO,QAAS,CAAC,cAAD,OAAeyS,GAAf,MACTlU,OAAO,eACP3E,QAAS,kBAAMiZ,GAAgBvG,EAAY8B,cAC3CnO,QAAM,IAER,kBAACF,GAAA,EAAD,CACEpB,MAAO3G,EAAMgD,QACbzC,SAAU+T,EAAYkC,SACtBxO,QAAS,CAAC,cAAD,OAAe2S,GAAf,MACTpU,OAAO,YACP3E,QAAS,kBAAMkZ,GAAaxG,EAAYkC,WACxCvO,QAAM,OAMd,oCACE,kBAAC6R,GAAD,KAAsBqB,GACtB,kBAACrB,GAAD,KACE,kBAACF,GAAD,4BAEE,6BAFF,SAIE,kBAACG,GAAD,KACE,kBAACsB,GAAA,EAAD,CACEC,cAAehH,EAAYqC,aAC3B3O,QAAS0M,EACT/N,MAAO3G,EAAMiT,QACbsI,SAAU,SAAApT,GAAG,OAAI6S,EAAgB7S,UAO7C,kBAACgS,GAAD,CAAavY,QAASqZ,GACpB,kBAACX,GAAD,KAAU,kBAAC,EAAD,CAAGtT,KAAM,MADrB,oB,i1DCnIC,IAAMwU,GAAwB,SAACxO,EAAMyC,GAAP,OAAiBrI,KAAhB,KAIvBqU,KACGzO,EACcyC,EAMeA,EAOhCgM,KACyChM,EAMaA,EAMjEvI,KAAeC,WACfD,KAAeG,WACfG,KAAaC,SACbD,KAAaE,kBACbgU,KAAeC,sBACfD,KAAeE,sBAGNC,GAAoB,SAAC7O,EAAMyC,GACtC,IAAMqM,EAAarM,EAChBjD,QAAQ,IAAK,KACbI,MAAM,KACNrL,KAAI,SAAAgV,GAAI,OAAI9C,YAAgB8C,MAC5BhV,KAAI,SAAAgV,GAAI,OAAIA,EAAKxK,UACjBsD,QAAO,SAAAkH,GAAI,OAAIA,EAAK5U,OAAS,KAC7B6J,MAAM,EAAGuQ,MAENC,EAAgBF,EAAWva,KAAI,SAAAgV,GAAI,+CACnBA,EADmB,wCAEnBA,EAFmB,gEAGKA,EAHL,qBAMnC0F,EAAcH,EAAWva,KAAI,SAAAgV,GAAI,+CACjBA,EADiB,gEAEOA,EAFP,iEAGOA,EAHP,oBAMjC2F,EAAiB,wBACnBF,EAAc7M,KAAK,IADA,UAIjBgN,EAAe,wBACjBF,EAAY9M,KAAK,IADA,UAIrB,OAAO/H,KAAP,KAIeqU,KACGzO,EACHkP,EAMeA,EAOfT,KACAU,EAOaA,EAMxBjV,KAAeC,WACfD,KAAeG,WACfG,KAAaC,SACbD,KAAaE,kBACbgU,KAAeC,sBACfD,KAAeE,sBC7FfQ,GAAiB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,KAEhDC,GAAqB,SAAC,GAOrB,IANL5M,EAMI,EANJA,MACA6M,EAKI,EALJA,WACAC,EAII,EAJJA,UACA5Y,EAGI,EAHJA,KACAG,EAEI,EAFJA,UACAF,EACI,EADJA,QACI,EACkCxC,mBAASuN,MAXjB,GAWgD8J,MAAK,IAD/E,mBACGzC,EADH,KACgB4E,EADhB,OAE4CxZ,mBAAS,GAFrD,mBAEG+U,EAFH,KAEqBqG,EAFrB,OAGwCpb,mBAAS,GAHjD,mBAGGsV,EAHH,KAGmB+F,EAHnB,OAIkCrb,oBAAS,GAJ3C,mBAIGgV,EAJH,KAIgByE,EAJhB,OAK4BzZ,oBAAS,GALrC,mBAKGoV,EALH,KAKasE,EALb,OAMoC1Z,mBAAS,GAN7C,mBAMGuV,EANH,KAMiBqE,EANjB,OAOgC5Z,mBAASmb,EAAY,EAAI,GAPzD,mBAOGhI,EAPH,KAOeC,EAPf,KASAE,EAAgB/Q,EAAOA,EAAK4R,KAAK9G,QAAO,SAACiO,EAAKnH,GAChD,OAAOmH,EAAIhQ,OAAO6I,EAAKK,aAAarU,KAAI,SAAAoT,GAAM,OAAIA,EAAOb,WACxD,CAAC,eAAiB,CAAC,cACtBY,EAAcA,EAAYrF,QAAO,SAAAyE,GAAI,QAAMA,KAE3C,IAAMQ,EAAc,CAClB0B,cACAG,mBACAO,iBACAN,cACAI,WACAG,gBAeF,OACE,kBAAC1E,EAAD,KACE,kBAACE,EAAD,KACE,kBAACG,EAAD,KACGgK,EAAU,sBACQ7M,EAAMuB,cADd,0DAEiBvB,EAFjB,OAKf,kBAACiD,EAAD,KACE,kBAACC,EAAD,KACE,kBAAC,EAAD,CACE2B,YAAaA,EACb3Q,KAAMA,EACN4Q,WAAYA,EACZC,cAAeA,EACfC,cAAe2H,GACf1H,YAAaA,EACb9Q,QAASA,EACTE,UAAWA,KAGf,kBAAC+O,EAAD,KACE,kBAAC,GAAD,CACE6B,YAAaA,EACbJ,YAAaA,EACbsG,eAAgBA,EAChBG,cAA8B,IAAfxG,EAAmBiI,EAAsBC,EACxD5B,eAAgBA,EAChBC,YAAaA,EACbE,gBAAiBA,EACjBvG,cAAe2H,GACfnB,aAA6B,IAAf1G,EA5CG,WACzBqG,EAAejM,MAlCa,GAkCkB8J,MAAK,IACnD+D,EAAoB,GACpB3B,GAAe,GACfC,GAAY,IAGW,WACvB2B,EAAkB,GAClBzB,EAAgB,IAoCRnE,aAA6B,IAAftC,QAqCXoI,uBA7BK,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACGC,IAAY3Q,MAAM0Q,EAASE,QAAvDrN,EADyB,EAC5BsN,EAAaC,EADe,EAClBC,EACZV,GAAaS,GAAiB,WAATA,GAA8B,MAATA,EAC1CV,IAH8B,EACTY,EAIrBC,EAAeb,EAAad,GAAwBK,GALtB,EAOCuB,YACnCD,EAAa,4CAA6C1N,GAC1D,CACEyH,UAAW,CAAEC,cAAe,EAAGC,YAAa,GAC5CiG,6BAA6B,IAJzB1Z,EAP4B,EAO5BA,KAAMG,EAPsB,EAOtBA,UAAWF,EAPW,EAOXA,QAQzB,OACE,kBAACqO,EAAD,KACE,kBAAC,GAAD,CACExC,MAAOA,EACP6M,WAAYA,EACZC,UAAWA,EACX5Y,KAAMA,EACNG,UAAWA,EACXF,QAASA","file":"static/js/7.409658b1.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { Heading3, BoxShadow } from '../../../constants/Mixins';\n\nexport const ContainerWrapper = styled.div`\n  width: ${({ width }) => width || '100%'};\n  border-radius: 4px;\n  background: ${({ theme }) => theme.white};\n  ${BoxShadow}\n`;\n\nexport const TabsWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const Tab = styled.div`\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  cursor: pointer;\n  border-radius: ${({ first, last, selected }) => {\n    if (!selected) {\n      return '0';\n    }\n    if (first) {\n      return '4px 0 0 4px';\n    }\n    if (last) {\n      return '0 4px 4px 0';\n    }\n    return '0';\n  }};\n  background: ${({ selected, theme }) =>\n    selected ? theme.white : theme.light2};\n  color: ${({ selected, theme }) =>\n    selected ? theme.dark1 : theme.dark3};\n  ${Heading3}\n  font-weight: ${({ selected }) => (selected ? 600 : 400)};\n`;\n\nexport const ContentContainer = styled.div`\n  width: 100%;\n  background: white;\n  padding: ${({ padding }) => padding};\n  border-radius: 0 0 4px 4px;\n`;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\n/* Styled Components */\nimport {\n  ContainerWrapper,\n  TabsWrapper,\n  Tab,\n  ContentContainer,\n} from './styles/TabContainer';\n\nconst TabContainer = ({\n  tabList,\n  containerWidth,\n  tabWidth,\n  initialSelectedTab = 0,\n  contentPadding = '32px'\n}) => {\n  const [selectedTab, setSelectedTab] = useState(initialSelectedTab);\n\n  return (\n    <ContainerWrapper width={containerWidth}>\n      <TabsWrapper>\n        {tabList.map((tab, index) => (\n          <Tab\n            key={index}\n            width={tabWidth}\n            selected={index === selectedTab}\n            first={index === 0}\n            last={index === tabList.length - 1}\n            onClick={() => {\n              tab.onClick && tab.onClick(index);\n              setSelectedTab(index);\n            }}\n          >\n            {tab.title}\n          </Tab>\n        ))}\n      </TabsWrapper>\n      <ContentContainer padding={contentPadding}>\n        {tabList[selectedTab].render()}\n      </ContentContainer>\n    </ContainerWrapper>\n  );\n};\n\nTabContainer.propTypes = {\n  tabList: PropTypes.arrayOf(\n    PropTypes.shape({\n      onClick: PropTypes.func,\n      title: PropTypes.string.isRequired,\n      render: PropTypes.func.isRequired\n    })\n  ).isRequired,\n  initialSelectedTab: PropTypes.number,\n  containerWidth: PropTypes.string,\n  tabWidth: PropTypes.string,\n  contentPadding: PropTypes.string\n};\n\nexport default TabContainer;\n","import styled from 'styled-components';\nimport { Link } from '../../../constants/Mixins';\n\nexport const TableWrapper = styled.table`\n  width: 100%;\n  min-width: 100%;\n  border-radius: 4px;\n  text-align: left;\n  table-layout: auto;\n  border-collapse: collapse;\n  color: ${({ theme }) => theme.dark2};\n`;\n\nexport const TableHeader = styled.thead`\n  border-radius: 4px;\n  width: 100%;\n`;\n\nexport const HeaderRow = styled.tr`\n  width: 100%;\n  border-bottom: 1px solid ${({ theme }) => theme.light3};\n`;\n\nexport const HeaderCell = styled.th`\n  text-align: ${({ align }) => (align ? align : 'left')};\n  width: ${({ maxWidth }) => maxWidth + 16}px;\n  min-width: ${({ maxWidth }) => maxWidth + 16}px;\n  padding-top: 16px;\n  padding-bottom: 16px;\n  vertical-align: top;\n\n  padding-left: ${({ rightAlign }) => (rightAlign ? '16px' : '0')};\n  padding-right: ${({ rightAlign }) => (rightAlign ? '16px' : '0')};\n\n  &:first-child {\n    padding-left: 32px;\n    width: ${({ maxWidth }) => maxWidth + 32 + 16}px;\n    max-width: ${({ maxWidth }) => maxWidth + 24 + 16}px;\n  }\n\n  &:last-child {\n    padding-left: 0;\n    padding-right: 32px;\n    width: ${({ maxWidth }) => maxWidth + 24 + 16}px;\n    max-width: ${({ maxWidth }) => maxWidth + 24 + 16}px;\n  }\n`;\n\nexport const HeaderText = styled.span`\n  ${({ sortable }) => (sortable ? Link : '')}\n  cursor: ${({ sortable }) => (sortable ? 'pointer' : 'inherit')};\n  color: ${({ theme, sortable }) => (sortable ? theme.primary : theme.dark1)};\n\n  &:hover, &:focus {\n    color: ${({ theme, sortable }) =>\n      sortable ? theme.primaryDark : theme.dark1};\n  }\n`;\n\nexport const SortArrow = styled.span`\n  color: ${({ theme }) => theme.primary};\n  text-decoration: none !important;\n`;\n\nexport const TableBody = styled.tbody`\n  width: 100%;\n`;\n\nexport const Row = styled.tr`\n  position: relative;\n  width: 100%;\n  border-radius: 4px;\n  border-bottom: 1px solid ${({ theme }) => theme.light3};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nexport const Cell = styled.td`\n  padding-top: 16px;\n  padding-bottom: 16px;\n  text-align: ${({ align }) => (align ? align : 'left')};\n  vertical-align: top;\n  height: 0;\n\n  &:first-child {\n    padding-left: 32px;\n    padding-right: 0;\n  }\n\n  &:last-child {\n    padding-left: 0;\n    padding-right: 32px;\n  }\n\n  &:only-child {\n    padding: auto 32px;\n  }\n`;\n\nexport const TableBottom = styled.tr``;\n","import React, { useRef, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTable, useSortBy } from 'react-table';\nimport { throttle } from 'lodash';\n\nimport {\n  TableWrapper,\n  TableHeader,\n  TableBody,\n  HeaderRow,\n  Row,\n  Cell,\n  HeaderCell,\n  SortArrow,\n  HeaderText,\n  TableBottom,\n} from './styles/Table';\n\nimport LoadingSpinner from '../display/LoadingSpinner';\n\nconst Table = ({\n  columns,\n  data,\n  sortable = false,\n  loading = false,\n  doneFetching = false,\n  fetchMore = null\n}) => {\n  const [shouldFetchMore, setShouldFetchMore] = useState(false);\n  const bottomRef = useRef(null);\n\n  useEffect(() => {\n    if (!shouldFetchMore || !fetchMore || loading) {\n      return;\n    }\n\n    if (shouldFetchMore) {\n      const fetchMorePromise = fetchMore();\n      if (!fetchMorePromise) {\n        setShouldFetchMore(false);\n      } else {\n        fetchMorePromise.then(() => {\n          setShouldFetchMore(false);\n        });\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [shouldFetchMore]);\n\n  const setFetchMore = () => {\n    if (loading || shouldFetchMore || !bottomRef.current || !fetchMore) {\n      return;\n    }\n    const offset = 800;\n    const top = bottomRef.current.getBoundingClientRect().top;\n    const inView = (top + offset) >= 0 && (top - offset) <= window.innerHeight;\n    setShouldFetchMore(inView);\n  }\n\n  const throttledSetFetchMore = throttle(setFetchMore, 100);\n\n  useEffect(() => {\n    window.addEventListener('scroll', () => throttledSetFetchMore());\n    return window.removeEventListener('scroll', () => throttledSetFetchMore());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loading]);\n\n  const { getTableProps, headerGroups, rows, prepareRow } = useTable(\n    {\n      columns,\n      data,\n    },\n    useSortBy,\n  );\n\n  return (\n    <TableWrapper {...getTableProps()}>\n      <TableHeader>\n        {headerGroups.map(headerGroup => (\n          <HeaderRow {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map(column => (\n              <HeaderCell\n                {...column.getHeaderProps(\n                  sortable && column.getSortByToggleProps(),\n                )}\n                align={column.align}\n                maxWidth={column.maxWidth}\n              >\n                <HeaderText sortable={sortable}>\n                  {column.render('Header')}\n                </HeaderText>\n                <SortArrow>\n                  {column.sorted ? (column.sortedDesc ? ' ▲' : ' ▼') : ''}\n                </SortArrow>\n              </HeaderCell>\n            ))}\n          </HeaderRow>\n        ))}\n      </TableHeader>\n      <TableBody>\n        {rows.map(\n          row =>\n            prepareRow(row) || (\n              <Row {...row.getRowProps()}>\n                {row.cells.map(cell => (\n                  <Cell\n                    {...cell.getCellProps()}\n                    align={cell.column.align}\n                    style={cell.column.style}\n                  >\n                    {cell.render('Cell')}\n                  </Cell>\n                ))}\n              </Row>\n            ),\n        )}\n        {((loading || shouldFetchMore) && !doneFetching && fetchMore !== null) && (\n          <Row>\n            <Cell colSpan={columns.length} style={{padding: 0, overflow: 'hidden'}}>\n              <LoadingSpinner margin={\"4px auto\"} />\n            </Cell>\n          </Row>\n        )}\n        <TableBottom ref={bottomRef} />\n      </TableBody>\n    </TableWrapper>\n  );\n};\n\nTable.propTypes = {\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      Header: PropTypes.string.isRequired,\n      accessor: PropTypes.string,\n      align: PropTypes.string,\n      maxWidth: PropTypes.number,\n      id: PropTypes.string,\n      Cell: PropTypes.func,\n    }),\n  ).isRequired,\n  data: PropTypes.arrayOf(PropTypes.object),\n  sortable: PropTypes.bool,\n};\n\nexport default Table;\n","import styled from 'styled-components';\nimport { BoxShadow } from '../../../constants/Mixins';\n\nexport const CheckCircleWrapper = styled.div`\n  width: ${({ width }) => width}px;\n  min-width: ${({ width }) => width}px;\n  height: ${({ width }) => width}px;\n  min-height: ${({ width }) => width}px;\n  background-color: ${({ checked, color, theme }) =>\n    checked ? color : theme.light2};\n  border: 3px solid\n    ${({ checked, color, theme }) => (checked ? color : theme.light4)};\n  border-radius: 50%;\n  user-select: none;\n  cursor: ${({ disabled }) => (disabled ? 'inherit' : 'pointer')};\n  ${BoxShadow}\n  position: relative;\n`;\n\nexport const CheckIcon = styled.div`\n  position: absolute;\n  top: 2px;\n  left: 1px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Check } from 'react-feather';\n\n/* Styled Components */\nimport { CheckCircleWrapper, CheckIcon } from './styles/CheckCircle';\n\nconst CheckCircle = ({\n  color,\n  checked = false,\n  width = 32,\n  disabled = true,\n  onClick = () => {},\n}) => {\n  return (\n    <CheckCircleWrapper\n      onClick={() => (disabled ? null : onClick())}\n      disabled={disabled}\n      width={width}\n      color={color}\n      checked={checked}\n    >\n      {checked ? (\n        <CheckIcon>\n          <Check color=\"white\" size={24} strokeWidth={3} />\n        </CheckIcon>\n      ) : null}\n    </CheckCircleWrapper>\n  );\n};\n\nCheckCircle.propTypes = {\n  color: PropTypes.string.isRequired,\n  checked: PropTypes.bool,\n  width: PropTypes.number,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default CheckCircle;\n","import gql from 'graphql-tag';\r\n\r\nconst CourseFragment = {\r\n  courseInfo: gql`\r\n    fragment CourseInfoFragment on course {\r\n      id\r\n      code\r\n      name\r\n      description\r\n      profs_teaching {\r\n        prof {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  `,\r\n  courseTerm: gql`\r\n    fragment CourseTermFragment on course {\r\n      id\r\n      sections {\r\n        id\r\n        term\r\n      }\r\n    }\r\n  `,\r\n  courseSchedule: gql`\r\n    fragment CourseScheduleFragment on course {\r\n      id\r\n      sections {\r\n        id\r\n        enrollment_capacity\r\n        enrollment_total\r\n        class_number\r\n        campus\r\n        section\r\n        term\r\n        meetings {\r\n          days\r\n          start_date\r\n          end_date\r\n          start_seconds\r\n          end_seconds\r\n          location\r\n          prof {\r\n            id\r\n            code\r\n            name\r\n          }\r\n          is_closed\r\n          is_cancelled\r\n        }\r\n        exams {\r\n          date\r\n          day\r\n          end_seconds\r\n          is_tba\r\n          location\r\n          section_id\r\n          start_seconds\r\n        }\r\n      }\r\n    }\r\n  `,\r\n  courseRequirements: gql`\r\n  fragment CourseRequirementsFragment on course {\r\n    id\r\n    antireqs\r\n    prereqs\r\n    prerequisites {\r\n      prerequisite {\r\n        id\r\n        code\r\n        name\r\n      }\r\n    }\r\n    postrequisites {\r\n      postrequisite {\r\n        id\r\n        code\r\n        name\r\n      }\r\n    }\r\n  }\r\n  `\r\n};\r\n\r\nexport default CourseFragment;\r\n","import gql from 'graphql-tag';\n\nconst ProfFragment = {\n  profInfo: gql`\n    fragment ProfInfoFragment on prof {\n      id\n      name\n      code\n    }\n  `,\n  profCoursesTaught: gql`\n    fragment ProfCoursesTaughtFragment on prof {\n      id\n      prof_courses {\n        course {\n          id\n          code\n        }\n      }\n    }\n  `\n};\n\nexport default ProfFragment;\n","import styled from 'styled-components';\nimport { Body } from '../../../constants/Mixins';\n\nexport const RadioButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin: ${({ margin }) => margin};\n`;\n\nexport const RadioButtonOption = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-right: 24px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const RadioButtonText = styled.div`\n  ${Body}\n  font-weight: 600;\n  margin: auto;\n  margin-left: 8px;\n  color: ${({ theme }) => theme.dark2};\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/* Child Components */\nimport CheckCircle from './CheckCircle';\n\n/* Styled Components */\nimport {\n  RadioButtonWrapper,\n  RadioButtonOption,\n  RadioButtonText,\n} from './styles/RadioButton';\n\nconst RadioButton = ({\n  color,\n  selected,\n  options,\n  margin = '0 0 40px 0',\n  toggle = false,\n  onClick = () => {},\n}) => {\n  return (\n    <RadioButtonWrapper margin={margin}>\n      {options.map((opt, idx) => (\n        <RadioButtonOption key={idx}>\n          <CheckCircle\n            color={color}\n            disabled={false}\n            checked={(toggle && selected) || (!toggle && idx === selected)}\n            onClick={() => onClick(idx)}\n          />\n          <RadioButtonText>{opt}</RadioButtonText>\n        </RadioButtonOption>\n      ))}\n    </RadioButtonWrapper>\n  );\n};\n\nRadioButton.propTypes = {\n  color: PropTypes.string,\n  selected: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]).isRequired,\n  options: PropTypes.arrayOf(PropTypes.string).isRequired,\n  margin: PropTypes.string,\n  toggle: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default RadioButton;\n","import styled from 'styled-components';\nimport breakpoint from 'styled-components-breakpoint';\nimport { BoxShadow } from '../../../constants/Mixins';\n\nexport const DiscreteSliderWrapper = styled.div`\n  color: ${({ color }) => color};\n  display: flex;\n  flex-direction: row;\n  margin: ${({ margin }) => margin};\n`;\n\nexport const SliderBarWrapper = styled.div`\n  width: 300px;\n  margin: auto 0;\n\n  ${breakpoint('mobile', 'tablet')`\n    width: 100%;\n  `}\n`;\n\nexport const SliderRail = styled.div`\n  margin: auto;\n  width: 100%;\n  height: 8px;\n  background-color: ${({ theme }) => theme.light3};\n  border-radius: 4px;\n  cursor: pointer;\n  ${BoxShadow}\n`;\n\nexport const SliderHandle = styled.div`\n  left: ${({ percent }) => percent}%;\n  position: absolute;\n  margin-left: -16px;\n  margin-top: -20px;\n  z-index: 3;\n  width: 32px;\n  height: 32px;\n  border: 3px solid ${({ theme }) => theme.white};\n  cursor: pointer;\n  border-radius: 50%;\n  background-color: ${({ color }) => color};\n  ${BoxShadow}\n`;\n\nexport const SliderTrack = styled.div`\n  position: absolute;\n  height: 8px;\n  z-index: 1;\n  margin-top: -8px;\n  background-color: ${({ color }) => color};\n  border-radius: 4px;\n  cursor: pointer;\n  left: ${({ source }) => source.percent}%;\n  width: ${({ target, source }) => target.percent - source.percent}%;\n`;\n\nexport const SliderTick = styled.div`\n  position: absolute;\n  margin-left: -8px;\n  margin-top: -11px;\n  z-index: 2;\n  height: 8px;\n  width: 8px;\n  background-color: ${({ color }) => color};\n  border-radius: 50%;\n  box-sizing: content-box;\n  border: 3px solid ${({ theme }) => theme.white};\n  cursor: pointer;\n  left: ${({ percent }) => percent}%;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Slider, Rail, Handles, Tracks } from 'react-compound-slider';\nimport { withTheme } from 'styled-components';\n\nimport {\n  DiscreteSliderWrapper,\n  SliderBarWrapper,\n  SliderRail,\n  SliderHandle,\n  SliderTick,\n  SliderTrack\n} from './styles/DiscreteSlider';\n\nconst Handle = ({\n  handle: { id, percent },\n  getHandleProps,\n  color\n}) => (\n  <SliderHandle percent={percent} color={color} {...getHandleProps(id)} />\n);\n\nconst Track = ({ source, target, color, getTrackProps }) => (\n  <SliderTrack target={target} source={source} color={color} {...getTrackProps()} />\n);\n\nconst DiscreteSlider = ({\n  theme,\n  numNodes,\n  currentNode,\n  color,\n  onUpdate,\n  margin=\"0 0 40px 0\",\n  showTicks=true,\n  selected=true,\n  setSelected=() => null\n}) => {\n  const percentGap = numNodes > 1 ? 100 / (numNodes - 1) : 100;\n  let percentages = [];\n  for (let i = 0; i < 100; i += percentGap) {\n    percentages.push(i);\n  }\n  percentages.push(100);\n\n  return (\n    <DiscreteSliderWrapper margin={margin}>\n      <SliderBarWrapper>\n        <Slider\n          step={1}\n          mode={2}\n          domain={[0, numNodes - 1]}\n          onUpdate={(value) => {\n            onUpdate(value);\n            if (value > 0) {\n              setSelected(true);\n            }\n          }}\n          values={[currentNode]}\n          rootStyle={{\n            position: 'relative',\n            width: '100%',\n            height: '8px'\n          }}\n        >\n          <Rail>\n            {({ getRailProps }) => (\n              <>\n                <SliderRail {...getRailProps()} />\n                {showTicks && percentages.map((percent, idx) => (\n                  <SliderTick\n                    key={percent}\n                    color={idx <= currentNode ? color : theme.light3}\n                    percent={percent}\n                    {...getRailProps()}\n                  />\n                ))}\n              </>\n            )}\n          </Rail>\n          <Handles>\n            {({ handles, getHandleProps }) => (\n              <div\n                className=\"slider-handles\"\n                onClick={() => setSelected(true)}\n              >\n                {handles.map(handle => (\n                  <Handle\n                    key={handle.id}\n                    handle={handle}\n                    getHandleProps={getHandleProps}\n                    color={selected ? color : theme.light3}\n                  />\n                ))}\n              </div>\n            )}\n          </Handles>\n          <Tracks right={false}>\n            {({ tracks, getTrackProps }) => (\n              <div className=\"slider-tracks\">\n                {tracks.map(({ id, source, target }) => (\n                  <Track\n                    key={id}\n                    source={source}\n                    target={target}\n                    color={color}\n                    getTrackProps={getTrackProps}\n                  />\n                ))}\n              </div>\n            )}\n          </Tracks>\n        </Slider>\n      </SliderBarWrapper>\n    </DiscreteSliderWrapper>\n  );\n};\n\nDiscreteSlider.propTypes = {\n  theme: PropTypes.object.isRequired,\n  margin: PropTypes.string,\n  numNodes: PropTypes.number.isRequired, // includes 0 so 6 for 0 20 40 60 80 100\n  currentNode: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  showTicks: PropTypes.bool\n};\n\nexport default withTheme(DiscreteSlider);\n","'use strict';\n\nvar _slicedToArray = require(\"/Users/edzhang/Repositories/uwflow/uwflow2.0_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"/Users/edzhang/Repositories/uwflow/uwflow2.0_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar strictUriEncode = require('strict-uri-encode');\n\nvar decodeComponent = require('decode-uri-component');\n\nvar splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n  switch (options.arrayFormat) {\n    case 'index':\n      return function (key) {\n        return function (result, value) {\n          var index = result.length;\n\n          if (value === undefined) {\n            return result;\n          }\n\n          if (value === null) {\n            return [].concat(_toConsumableArray(result), [[encode(key, options), '[', index, ']'].join('')]);\n          }\n\n          return [].concat(_toConsumableArray(result), [[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')]);\n        };\n      };\n\n    case 'bracket':\n      return function (key) {\n        return function (result, value) {\n          if (value === undefined) {\n            return result;\n          }\n\n          if (value === null) {\n            return [].concat(_toConsumableArray(result), [[encode(key, options), '[]'].join('')]);\n          }\n\n          return [].concat(_toConsumableArray(result), [[encode(key, options), '[]=', encode(value, options)].join('')]);\n        };\n      };\n\n    case 'comma':\n      return function (key) {\n        return function (result, value, index) {\n          if (value === null || value === undefined || value.length === 0) {\n            return result;\n          }\n\n          if (index === 0) {\n            return [[encode(key, options), '=', encode(value, options)].join('')];\n          }\n\n          return [[result, encode(value, options)].join(',')];\n        };\n      };\n\n    default:\n      return function (key) {\n        return function (result, value) {\n          if (value === undefined) {\n            return result;\n          }\n\n          if (value === null) {\n            return [].concat(_toConsumableArray(result), [encode(key, options)]);\n          }\n\n          return [].concat(_toConsumableArray(result), [[encode(key, options), '=', encode(value, options)].join('')]);\n        };\n      };\n  }\n}\n\nfunction parserForArrayFormat(options) {\n  var result;\n\n  switch (options.arrayFormat) {\n    case 'index':\n      return function (key, value, accumulator) {\n        result = /\\[(\\d*)\\]$/.exec(key);\n        key = key.replace(/\\[\\d*\\]$/, '');\n\n        if (!result) {\n          accumulator[key] = value;\n          return;\n        }\n\n        if (accumulator[key] === undefined) {\n          accumulator[key] = {};\n        }\n\n        accumulator[key][result[1]] = value;\n      };\n\n    case 'bracket':\n      return function (key, value, accumulator) {\n        result = /(\\[\\])$/.exec(key);\n        key = key.replace(/\\[\\]$/, '');\n\n        if (!result) {\n          accumulator[key] = value;\n          return;\n        }\n\n        if (accumulator[key] === undefined) {\n          accumulator[key] = [value];\n          return;\n        }\n\n        accumulator[key] = [].concat(accumulator[key], value);\n      };\n\n    case 'comma':\n      return function (key, value, accumulator) {\n        var isArray = typeof value === 'string' && value.split('').indexOf(',') > -1;\n        var newValue = isArray ? value.split(',') : value;\n        accumulator[key] = newValue;\n      };\n\n    default:\n      return function (key, value, accumulator) {\n        if (accumulator[key] === undefined) {\n          accumulator[key] = value;\n          return;\n        }\n\n        accumulator[key] = [].concat(accumulator[key], value);\n      };\n  }\n}\n\nfunction encode(value, options) {\n  if (options.encode) {\n    return options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n  }\n\n  return value;\n}\n\nfunction decode(value, options) {\n  if (options.decode) {\n    return decodeComponent(value);\n  }\n\n  return value;\n}\n\nfunction keysSorter(input) {\n  if (Array.isArray(input)) {\n    return input.sort();\n  }\n\n  if (typeof input === 'object') {\n    return keysSorter(Object.keys(input)).sort(function (a, b) {\n      return Number(a) - Number(b);\n    }).map(function (key) {\n      return input[key];\n    });\n  }\n\n  return input;\n}\n\nfunction removeHash(input) {\n  var hashStart = input.indexOf('#');\n\n  if (hashStart !== -1) {\n    input = input.slice(0, hashStart);\n  }\n\n  return input;\n}\n\nfunction extract(input) {\n  input = removeHash(input);\n  var queryStart = input.indexOf('?');\n\n  if (queryStart === -1) {\n    return '';\n  }\n\n  return input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n  if (options.parseNumbers && !Number.isNaN(Number(value)) && typeof value === 'string' && value.trim() !== '') {\n    value = Number(value);\n  } else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n    value = value.toLowerCase() === 'true';\n  }\n\n  return value;\n}\n\nfunction parse(input, options) {\n  options = Object.assign({\n    decode: true,\n    sort: true,\n    arrayFormat: 'none',\n    parseNumbers: false,\n    parseBooleans: false\n  }, options);\n  var formatter = parserForArrayFormat(options); // Create an object with no prototype\n\n  var ret = Object.create(null);\n\n  if (typeof input !== 'string') {\n    return ret;\n  }\n\n  input = input.trim().replace(/^[?#&]/, '');\n\n  if (!input) {\n    return ret;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = input.split('&')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var param = _step.value;\n\n      var _splitOnFirst = splitOnFirst(param.replace(/\\+/g, ' '), '='),\n          _splitOnFirst2 = _slicedToArray(_splitOnFirst, 2),\n          key = _splitOnFirst2[0],\n          value = _splitOnFirst2[1]; // Missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\n\n      value = value === undefined ? null : decode(value, options);\n      formatter(decode(key, options), value, ret);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(ret); _i < _Object$keys.length; _i++) {\n    var _key = _Object$keys[_i];\n    var _value = ret[_key];\n\n    if (typeof _value === 'object' && _value !== null) {\n      for (var _i2 = 0, _Object$keys2 = Object.keys(_value); _i2 < _Object$keys2.length; _i2++) {\n        var k = _Object$keys2[_i2];\n        _value[k] = parseValue(_value[k], options);\n      }\n    } else {\n      ret[_key] = parseValue(_value, options);\n    }\n  }\n\n  if (options.sort === false) {\n    return ret;\n  }\n\n  return (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce(function (result, key) {\n    var value = ret[key];\n\n    if (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n      // Sort object keys, not values\n      result[key] = keysSorter(value);\n    } else {\n      result[key] = value;\n    }\n\n    return result;\n  }, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (object, options) {\n  if (!object) {\n    return '';\n  }\n\n  options = Object.assign({\n    encode: true,\n    strict: true,\n    arrayFormat: 'none'\n  }, options);\n  var formatter = encoderForArrayFormat(options);\n  var keys = Object.keys(object);\n\n  if (options.sort !== false) {\n    keys.sort(options.sort);\n  }\n\n  return keys.map(function (key) {\n    var value = object[key];\n\n    if (value === undefined) {\n      return '';\n    }\n\n    if (value === null) {\n      return encode(key, options);\n    }\n\n    if (Array.isArray(value)) {\n      return value.reduce(formatter(key), []).join('&');\n    }\n\n    return encode(key, options) + '=' + encode(value, options);\n  }).filter(function (x) {\n    return x.length > 0;\n  }).join('&');\n};\n\nexports.parseUrl = function (input, options) {\n  return {\n    url: removeHash(input).split('?')[0] || '',\n    query: parse(extract(input), options)\n  };\n};","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","'use strict';\n\nmodule.exports = function (str) {\n  return encodeURIComponent(str).replace(/[!'()*]/g, function (x) {\n    return \"%\".concat(x.charCodeAt(0).toString(16).toUpperCase());\n  });\n};","'use strict';\n\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n  try {\n    // Try to decode the entire string first\n    return decodeURIComponent(components.join(''));\n  } catch (err) {// Do nothing\n  }\n\n  if (components.length === 1) {\n    return components;\n  }\n\n  split = split || 1; // Split the array in 2 parts\n\n  var left = components.slice(0, split);\n  var right = components.slice(split);\n  return Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input);\n  } catch (err) {\n    var tokens = input.match(singleMatcher);\n\n    for (var i = 1; i < tokens.length; i++) {\n      input = decodeComponents(tokens, i).join('');\n      tokens = input.match(singleMatcher);\n    }\n\n    return input;\n  }\n}\n\nfunction customDecodeURIComponent(input) {\n  // Keep track of all the replacements and prefill the map with the `BOM`\n  var replaceMap = {\n    '%FE%FF': \"\\uFFFD\\uFFFD\",\n    '%FF%FE': \"\\uFFFD\\uFFFD\"\n  };\n  var match = multiMatcher.exec(input);\n\n  while (match) {\n    try {\n      // Decode as big chunks as possible\n      replaceMap[match[0]] = decodeURIComponent(match[0]);\n    } catch (err) {\n      var result = decode(match[0]);\n\n      if (result !== match[0]) {\n        replaceMap[match[0]] = result;\n      }\n    }\n\n    match = multiMatcher.exec(input);\n  } // Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\n\n  replaceMap['%C2'] = \"\\uFFFD\";\n  var entries = Object.keys(replaceMap);\n\n  for (var i = 0; i < entries.length; i++) {\n    // Replace all decoded components\n    var key = entries[i];\n    input = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n  }\n\n  return input;\n}\n\nmodule.exports = function (encodedURI) {\n  if (typeof encodedURI !== 'string') {\n    throw new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n  }\n\n  try {\n    encodedURI = encodedURI.replace(/\\+/g, ' '); // Try the built in decoder first\n\n    return decodeURIComponent(encodedURI);\n  } catch (err) {\n    // Fallback to a more advanced decoder\n    return customDecodeURIComponent(encodedURI);\n  }\n};","'use strict';\n\nmodule.exports = function (string, separator) {\n  if (!(typeof string === 'string' && typeof separator === 'string')) {\n    throw new TypeError('Expected the arguments to be of type `string`');\n  }\n\n  if (separator === '') {\n    return [string];\n  }\n\n  var separatorIndex = string.indexOf(separator);\n\n  if (separatorIndex === -1) {\n    return [string];\n  }\n\n  return [string.slice(0, separatorIndex), string.slice(separatorIndex + separator.length)];\n};","module.exports = __webpack_public_path__ + \"static/media/explore_v1.d49ebd71.svg\";","import styled from 'styled-components';\r\nimport breakpoint from 'styled-components-breakpoint';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ExploreHeader from '../../../img/explore_v1.svg';\r\n\r\n/* Mixins */\r\nimport { Heading2, PageContent, WideColumn, ThinColumn, Link, PageWrapper } from '../../../constants/Mixins';\r\n\r\nexport const ExplorePageWrapper = styled.div`\r\n  ${PageWrapper}\r\n  padding-top: 40px;\r\n`;\r\n\r\nexport const ExploreHeaderWrapper = styled.div`\r\n  width: 100%;\r\n  margin-bottom: 32px;\r\n  display: flex;\r\n  background-image: url(${ExploreHeader});\r\n  background-color: ${({ theme }) => theme.primaryExtraDark};\r\n  background-size: cover;\r\n  flex-direction: column;\r\n  position: relative;\r\n\r\n  ${breakpoint('mobile', 'tablet')`\r\n    padding: 0 16px;\r\n  `}\r\n`;\r\n\r\nexport const ExploreHeaderText = styled.div`\r\n  ${PageContent}\r\n  ${Heading2}\r\n  padding-top: 48px;\r\n  padding-bottom: 16px;\r\n  word-break: break-all;\r\n  min-height: 104px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: auto;\r\n  position: relative;\r\n  color: ${({ theme }) => theme.light1};\r\n  font-weight: 600;\r\n`;\r\n\r\n\r\nexport const ColumnWrapper = styled.div`\r\n  ${PageContent}\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n`;\r\n\r\nexport const Column1 = styled.div`\r\n  ${WideColumn}\r\n\r\n  ${breakpoint('mobile', 'tablet')`\r\n    width: 100%;\r\n    padding: 0;\r\n    order: 2;\r\n  `}\r\n`;\r\n\r\nexport const Column2 = styled.div`\r\n  ${ThinColumn}\r\n\r\n  ${breakpoint('mobile', 'tablet')`\r\n    width: 100%;\r\n    order: 1;\r\n  `}\r\n`;\r\n\r\nexport const CourseCode = styled(RouterLink)`\r\n  ${Link}\r\n  color: ${({theme}) => theme.courses};\r\n`;\r\n\r\nexport const ProfName = styled(RouterLink)`\r\n ${Link}\r\n  color: ${({theme}) => theme.professors};\r\n`;\r\n","import React from 'react';\r\nimport { CourseCode, ProfName } from './styles/ExplorePage';\r\n\r\nimport { splitCourseCode } from '../../utils/Misc';\r\nimport { getCoursePageRoute, getProfPageRoute } from '../../Routes';\r\n\r\nexport const courseColumns = [\r\n  {\r\n    Header: 'Course code',\r\n    accessor: 'code',\r\n    align: 'left',\r\n    maxWidth: 120,\r\n    Cell: ({ cell }) => (\r\n      <CourseCode to={getCoursePageRoute(cell.value)}>{\r\n        splitCourseCode(cell.value)}\r\n      </CourseCode>\r\n    ),\r\n  },\r\n  {\r\n    Header: 'Course Name',\r\n    accessor: 'name',\r\n    align: 'left',\r\n    maxWidth: 128\r\n  },\r\n  {\r\n    Header: 'Ratings',\r\n    accessor: 'ratings',\r\n    align: 'right',\r\n    maxWidth: 80,\r\n  },\r\n  {\r\n    Header: 'Useful',\r\n    accessor: 'useful',\r\n    align: 'right',\r\n    maxWidth: 64,\r\n    Cell: ({ cell }) => `${Math.round(cell.value * 100)}%`\r\n  },\r\n  {\r\n    Header: 'Easy',\r\n    accessor: 'easy',\r\n    align: 'right',\r\n    maxWidth: 64,\r\n    Cell: ({ cell }) => `${Math.round(cell.value * 100)}%`\r\n  },\r\n  {\r\n    Header: 'Liked',\r\n    accessor: 'liked',\r\n    align: 'right',\r\n    maxWidth: 64,\r\n    Cell: ({ cell }) => `${Math.round(cell.value * 100)}%`\r\n  },\r\n];\r\n\r\nexport const profColumns = [\r\n  {\r\n    Header: 'Professor name',\r\n    accessor: 'code_name',\r\n    align: 'left',\r\n    maxWidth: 160,\r\n    Cell: ({ cell }) => (\r\n      <ProfName to={getProfPageRoute(cell.value.code)}>\r\n        {cell.value.name}\r\n      </ProfName>\r\n    ),\r\n  },\r\n  {\r\n    Header: 'Ratings',\r\n    accessor: 'ratings',\r\n    align: 'right',\r\n    maxWidth: 80,\r\n  },\r\n  {\r\n    Header: 'Clear',\r\n    accessor: 'clear',\r\n    align: 'right',\r\n    maxWidth: 64,\r\n    Cell: ({ cell }) => `${Math.round(cell.value * 100)}%`,\r\n  },\r\n  {\r\n    Header: 'Engaging',\r\n    accessor: 'engaging',\r\n    align: 'right',\r\n    maxWidth: 64,\r\n    Cell: ({ cell }) => `${Math.round(cell.value * 100)}%`,\r\n  },\r\n  {\r\n    Header: 'Liked',\r\n    accessor: 'liked',\r\n    align: 'right',\r\n    maxWidth: 64,\r\n    Cell: ({ cell }) => `${Math.round(cell.value * 100)}%`,\r\n  },\r\n];\r\n","import styled from 'styled-components';\n\nexport const SearchResultsContent = styled.div`\n  overflow-x: auto;\n`;","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Table from '../../components/display/Table';\r\nimport TabContainer from '../../components/display/TabContainer';\r\nimport { courseColumns, profColumns } from './ExploreTableData';\r\n\r\nimport { getCurrentTermCode, getNextTermCode } from '../../utils/Misc';\r\n\r\nimport { SearchResultsContent } from './styles/SearchResults';\r\n\r\nconst currentTermCode = getCurrentTermCode();\r\nconst nextTermCode = getNextTermCode();\r\n\r\nconst SearchResults = ({\r\n  filterState,\r\n  data,\r\n  exploreTab,\r\n  setExploreTab,\r\n  ratingFilters,\r\n  profCourses,\r\n  loading,\r\n  fetchMore\r\n}) => {\r\n  const courses = data ? data.course.map(course => Object({\r\n    id: course.id,\r\n    code: course.code,\r\n    name: course.name,\r\n    description: course.description,\r\n    ratings: course.course_reviews_aggregate.aggregate.count,\r\n    easy: course.course_reviews_aggregate.aggregate.avg.easy / 5,\r\n    liked: course.course_reviews_aggregate.aggregate.avg.liked,\r\n    useful: course.course_reviews_aggregate.aggregate.avg.useful / 5,\r\n    sections: course.sections, \r\n  })) : [];\r\n\r\n  const profs = data ? data.prof.map(prof => Object({\r\n    code_name: {\r\n      code: prof.code,\r\n      name: prof.name,\r\n    },\r\n    ratings: prof.prof_reviews_aggregate.aggregate.count,\r\n    clear: prof.prof_reviews_aggregate.aggregate.avg.clear / 5,\r\n    engaging: prof.prof_reviews_aggregate.aggregate.avg.engaging / 5,\r\n    liked: prof.course_reviews_aggregate.aggregate.avg.liked,\r\n    courses: prof.prof_courses.map(course => course.code)\r\n  })) : [];\r\n\r\n  const courseCodeRegex = useCallback(() => {\r\n    let regexStr = '';\r\n    for (let i = filterState.courseCodes.length - 1; i >= 0; i--) {\r\n      if (filterState.courseCodes[i]) {\r\n        regexStr += `|${i < filterState.courseCodes.length - 1 ? i + 1 : '[5-8]'}`;\r\n      }\r\n    }\r\n    regexStr = regexStr === '' ? 'a^' : `(${regexStr.slice(1)})([0-9]{2})`;\r\n    return new RegExp(regexStr);\r\n  }, [filterState]);\r\n\r\n  const filteredCourses = courses.filter(course => \r\n    courseCodeRegex().test(course.code)\r\n      && course.ratings >= ratingFilters[filterState.numCourseRatings]\r\n      && (!filterState.currentTerm || (filterState.currentTerm && course.sections\r\n          && course.sections.some(section => Number(section.term) === currentTermCode)))\r\n      && (!filterState.nextTerm || (filterState.nextTerm && course.sections\r\n          && course.sections.some(section => Number(section.term) === nextTermCode)))\r\n  );\r\n\r\n  const filteredProfs = profs.filter(prof =>\r\n    prof.ratings >= ratingFilters[filterState.numProfRatings]\r\n      && (filterState.courseTaught === 0\r\n          || prof.courses.includes(profCourses[filterState.courseTaught]))\r\n  );\r\n\r\n  const courseSearch = exploreTab === 0;\r\n  const doneFetching = (courseSearch && data && courses.length >= data.course_aggregate.aggregate.count) ||\r\n    (!courseSearch && data && profs.length >= data.prof_aggregate.aggregate.count);\r\n\r\n  const results = () => (\r\n    <SearchResultsContent>\r\n      <Table\r\n        data={courseSearch ? filteredCourses : filteredProfs}\r\n        columns={courseSearch ? courseColumns : profColumns}\r\n        rightAlignIndex={courseSearch ? 2 : 1}\r\n        sortable\r\n        loading={loading}\r\n        doneFetching={doneFetching}\r\n        fetchMore={() => {\r\n          if (loading || (courses.length === 0 && profs.length === 0) || doneFetching) {\r\n            return;\r\n          }\r\n\r\n          fetchMore({\r\n            variables: { course_offset: courses.length, prof_offset: profs.length },\r\n            updateQuery: (prev, { fetchMoreResult }) => {\r\n              if (!fetchMoreResult) return prev;\r\n              return Object.assign({}, prev, {\r\n                course: [...prev.course, ...fetchMoreResult.course],\r\n                prof: [...prev.prof, ...fetchMoreResult.prof]\r\n              });\r\n            }\r\n          })\r\n        }}\r\n      />\r\n    </SearchResultsContent>\r\n  );\r\n\r\n  return (\r\n    <TabContainer\r\n      tabList={[\r\n        {\r\n          onClick: () => setExploreTab(0),\r\n          title: `Courses ${data ? `(${data.course_aggregate.aggregate.count})` : ''}`,\r\n          render: results\r\n        },\r\n        {\r\n          onClick: () => setExploreTab(1),\r\n          title: `Profs ${data ? `(${data.prof_aggregate.aggregate.count})` : ''}`,\r\n          render: results\r\n        },\r\n      ]}\r\n      initialSelectedTab={exploreTab}\r\n      contentPadding=\"0\"\r\n    />\r\n  );\r\n};\r\n\r\nSearchResults.propTypes = {\r\n  filterState: PropTypes.object.isRequired,\r\n  results: PropTypes.arrayOf(PropTypes.object),\r\n  ratingFilters: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  profCourses: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n}\r\n\r\nexport default SearchResults;\r\n","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar X = function X(props) {\n  var color = props.color,\n      size = props.size,\n      otherProps = _objectWithoutProperties(props, [\"color\", \"size\"]);\n\n  return React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, otherProps), React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }), React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }));\n};\n\nX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nX.defaultProps = {\n  color: 'currentColor',\n  size: '24'\n};\nexport default X;","import styled from 'styled-components';\nimport { Body, BoxShadow } from '../../../constants/Mixins';\n\nexport const MultiSelectButtonWrapper = styled.div`\n  width: 100%;\n  display: block;\n  margin: ${({margin}) => margin};\n`;\n\nexport const ButtonWrapper = styled.div`\n  display: inline-block;\n  height: 24px;\n  border-radius: 12px;\n  padding: 2px 6px;\n  margin-bottom: 8px;\n  ${Body}\n  ${BoxShadow}\n  cursor: pointer;\n  margin-right: 8px;\n  color: ${({theme, selected}) => selected ? theme.light1 : theme.primary};\n  border: 2px solid ${({theme}) => theme.primary};\n  background-color: ${({theme, selected}) => selected ? theme.primary : theme.white};\n\n  &:last-child {\n    margin-right: 0;\n  }\n\n  &:hover, &:focus {\n    background-color: ${({theme, selected}) => selected ? theme.primaryDark : theme.light1};\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/* Styled Components */\nimport {\n  MultiSelectButtonWrapper,\n  ButtonWrapper\n} from './styles/MultiSelectButton';\n\nconst MultiSelectButton = ({\n  options, selected, margin = \"0 0 32px 0\", onClick = () => {} }\n) => {\n  return (\n    <MultiSelectButtonWrapper margin={margin}>\n      {options.map((option, idx) => (\n        <ButtonWrapper\n          selected={selected[idx]}\n          onClick={() => onClick(idx)}\n          key={idx}\n        >\n          {option}\n        </ButtonWrapper>\n      ))}\n    </MultiSelectButtonWrapper>\n  );\n};\n\nMultiSelectButton.propTypes = {\n  options: PropTypes.arrayOf(PropTypes.any).isRequired,\n  selected: PropTypes.arrayOf(PropTypes.bool).isRequired,\n  onClick: PropTypes.func\n};\n\nexport default MultiSelectButton;\n","import styled from 'styled-components';\r\nimport breakpoint from 'styled-components-breakpoint';\r\nimport { Card, BoxShadow, Heading3, Heading4, Body } from '../../../constants/Mixins';\r\n\r\nexport const SearchFilterWrapper = styled.div`\r\n  ${Card('40px 32px')}\r\n  ${BoxShadow}\r\n  margin-bottom: 32px;\r\n\r\n  ${breakpoint('mobile', 'tablet')`\r\n    padding: 24px 16px;\r\n  `}\r\n`;\r\n\r\nexport const SearchFilterHeader = styled.div`\r\n  ${Heading3}\r\n  color: ${({theme}) => theme.dark1};\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nexport const SearchFilterText = styled.div`\r\n  ${Heading4}\r\n  color: ${({theme}) => theme.dark2};\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nexport const SearchFilterSection = styled.div`\r\n  display: block;\r\n`;\r\n\r\nexport const RadioButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex: 1;\r\n`;\r\n\r\nexport const CourseFilterDropdown = styled.span`\r\n  position: absolute;\r\n`;\r\n\r\nexport const NumRatingsText = styled.span`\r\n  ${Body}\r\n  color: ${({theme}) => theme.dark3};\r\n`;\r\n\r\nexport const NumRatingsWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nexport const BoldText = styled.span`\r\n  font-weight: 600;\r\n`;\r\n\r\nexport const ResetButton = styled.button`\r\n  display: inline-block;\r\n  padding: 8px 12px;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  background-color: ${({theme}) => theme.primary};\r\n  ${BoxShadow}\r\n  ${Body}\r\n  color: ${({theme}) => theme.light1};\r\n  border-radius: 4px;\r\n  margin-top: 32px;\r\n\r\n  &:hover {\r\n    background-color: ${({theme}) => theme.primaryDark};\r\n  }\r\n`;\r\n\r\nexport const HeaderButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const XWrapper = styled.span`\r\n  margin: auto;\r\n  display: inline-flex;\r\n  vertical-align: middle;\r\n  margin-right: 4px;\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTheme } from 'styled-components';\r\nimport { X } from 'react-feather';\r\n\r\nimport RadioButton from '../../components/input/RadioButton';\r\nimport MultiSelectButton from '../../components/input/MultiSelectButton';\r\nimport DiscreteSlider from '../../components/input/DiscreteSlider';\r\nimport DropdownList from '../../components/input/DropdownList';\r\n\r\n/* Styled Components */\r\nimport {\r\n  SearchFilterWrapper,\r\n  SearchFilterHeader,\r\n  SearchFilterText,\r\n  SearchFilterSection,\r\n  RadioButtonWrapper,\r\n  CourseFilterDropdown,\r\n  NumRatingsWrapper,\r\n  NumRatingsText,\r\n  BoldText,\r\n  ResetButton,\r\n  HeaderButtonWrapper,\r\n  XWrapper\r\n} from './styles/SearchFilter';\r\nimport { termCodeToDate, getCurrentTermCode, getNextTermCode } from '../../utils/Misc';\r\n\r\nlet courseNumberOptions = [1, 2, 3, 4].map(num => (\r\n  <span>\r\n    <BoldText>{num}</BoldText>XX\r\n  </span>\r\n));\r\ncourseNumberOptions.push(\r\n  <span>\r\n    <BoldText>5</BoldText>XX+\r\n  </span>,\r\n);\r\n\r\nconst currentTermString = termCodeToDate(getCurrentTermCode());\r\nconst nextTermString = termCodeToDate(getNextTermCode());\r\n\r\nconst SearchFilter = ({\r\n  profCourses,\r\n  filterState,\r\n  setCourseCodes,\r\n  setCurrentTerm,\r\n  setNextTerm,\r\n  setNumRatings,\r\n  setCourseTaught,\r\n  resetFilters,\r\n  ratingFilters,\r\n  courseSearch,\r\n  theme,\r\n}) => {\r\n  const numRatings = courseSearch\r\n    ? filterState.numCourseRatings\r\n    : filterState.numProfRatings;\r\n\r\n  const ratingSlider = (\r\n    <>\r\n      <NumRatingsWrapper>\r\n        <SearchFilterText>Min # of ratings</SearchFilterText>\r\n        <NumRatingsText>\r\n          &ge; {ratingFilters[numRatings]} ratings\r\n        </NumRatingsText>\r\n      </NumRatingsWrapper>\r\n      <DiscreteSlider\r\n        numNodes={ratingFilters.length}\r\n        currentNode={numRatings}\r\n        color={theme.primary}\r\n        onUpdate={value => setNumRatings(value[0])}\r\n        showTicks={false}\r\n      />\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <SearchFilterWrapper>\r\n      <HeaderButtonWrapper>\r\n        <SearchFilterHeader>Filter your results</SearchFilterHeader>\r\n      </HeaderButtonWrapper>\r\n      {courseSearch ? (\r\n        <>\r\n          <SearchFilterSection>\r\n            <SearchFilterText>Course code</SearchFilterText>\r\n            <MultiSelectButton\r\n              options={courseNumberOptions}\r\n              selected={filterState.courseCodes}\r\n              onClick={idx => {\r\n                setCourseCodes([\r\n                  ...filterState.courseCodes.slice(0, idx),\r\n                  !filterState.courseCodes[idx],\r\n                  ...filterState.courseCodes.slice(idx + 1),\r\n                ]);\r\n              }}\r\n            />\r\n          </SearchFilterSection>\r\n          <SearchFilterSection>{ratingSlider}</SearchFilterSection>\r\n          <SearchFilterSection>\r\n            <SearchFilterText>Offered in</SearchFilterText>\r\n            <RadioButtonWrapper>\r\n              <RadioButton\r\n                color={theme.primary}\r\n                selected={filterState.currentTerm}\r\n                options={[`This term (${currentTermString})`]}\r\n                margin=\"8px 16px 0 0\"\r\n                onClick={() => setCurrentTerm(!filterState.currentTerm)}\r\n                toggle\r\n              />\r\n              <RadioButton\r\n                color={theme.primary}\r\n                selected={filterState.nextTerm}\r\n                options={[`Next term (${nextTermString})`]}\r\n                margin=\"8px 0 0 0\"\r\n                onClick={() => setNextTerm(!filterState.nextTerm)}\r\n                toggle\r\n              />\r\n            </RadioButtonWrapper>\r\n          </SearchFilterSection>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <SearchFilterSection>{ratingSlider}</SearchFilterSection>\r\n          <SearchFilterSection>\r\n            <SearchFilterText>\r\n              Show professors that\r\n              <br />\r\n              teach:\r\n              <CourseFilterDropdown>\r\n                <DropdownList\r\n                  selectedIndex={filterState.courseTaught}\r\n                  options={profCourses}\r\n                  color={theme.courses}\r\n                  onChange={idx => setCourseTaught(idx)}\r\n                />\r\n              </CourseFilterDropdown>\r\n            </SearchFilterText>\r\n          </SearchFilterSection>\r\n        </>\r\n      )}\r\n      <ResetButton onClick={resetFilters}>\r\n        <XWrapper><X size={16} /></XWrapper>\r\n        Clear filter\r\n      </ResetButton>\r\n    </SearchFilterWrapper>\r\n  );\r\n};\r\n\r\nSearchFilter.propTypes = {\r\n  profCourses: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  filterState: PropTypes.object.isRequired,\r\n  setCourseCodes: PropTypes.func.isRequired,\r\n  setCurrentTerm: PropTypes.func.isRequired,\r\n  setNextTerm: PropTypes.func.isRequired,\r\n  setNumRatings: PropTypes.func.isRequired,\r\n  setCourseTaught: PropTypes.func.isRequired,\r\n  resetFilters: PropTypes.func.isRequired,\r\n  ratingFilters: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  courseSearch: PropTypes.bool.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withTheme(SearchFilter);\r\n","import gql from 'graphql-tag';\n\nimport CourseFragment from '../../fragments/CourseFragment.jsx';\nimport ProfFragment from '../../fragments/ProfFragment.jsx';\nimport ReviewFragment from '../../fragments/ReviewFragment.jsx';\n\nimport { SEARCH_RESULTS_PER_PAGE, MAX_SEARCH_TERMS } from '../../../constants/Search.jsx';\nimport { splitCourseCode } from '../../../utils/Misc.jsx';\n\nexport const buildExploreCodeQuery = (sort, query) => gql`\n  query EXPLORE_COURSE_CODE($course_offset: Int, $prof_offset: Int) {\n    course(\n      offset: $course_offset,\n      limit: ${SEARCH_RESULTS_PER_PAGE},\n      order_by: ${sort},\n      where: {code: {_ilike: \"${query}%\"}}\n    ) {\n      ...CourseInfoFragment\n      ...CourseTermFragment\n      ...CourseReviewAggregateFragment\n    }\n    course_aggregate(where: {code: {_ilike: \"${query}%\"}}) {\n      aggregate {\n        count\n      }\n    }\n    prof(\n      offset: $prof_offset,\n      limit: ${SEARCH_RESULTS_PER_PAGE}\n      where: {prof_courses: {course: {code: {_ilike: \"${query}%\"}}}}\n    ) {\n      ...ProfInfoFragment\n      ...ProfCoursesTaughtFragment\n      ...ProfReviewsAggregateFragment\n    }\n    prof_aggregate(where: {prof_courses: {course: {code: {_ilike: \"${query}%\"}}}}) {\n      aggregate {\n        count\n      }\n    }\n  }\n  ${CourseFragment.courseInfo}\n  ${CourseFragment.courseTerm}\n  ${ProfFragment.profInfo}\n  ${ProfFragment.profCoursesTaught}\n  ${ReviewFragment.courseReviewAggregate}\n  ${ReviewFragment.profReviewAggregate}\n`;\n\nexport const buildExploreQuery = (sort, query) => {\n  const queryTerms = query\n    .replace('-', ' ')\n    .split(' ')\n    .map(term => splitCourseCode(term))\n    .map(term => term.trim())\n    .filter(term => term.length > 0)\n    .slice(0, MAX_SEARCH_TERMS);\n\n  const courseQueries = queryTerms.map(term => `{_or: [\n    {code: {_ilike: \"%${term}%\"}},\n    {name: {_ilike: \"%${term}%\"}},\n    {profs_teaching: {prof: {name: {_ilike: \"%${term}%\"}}}},\n  ]},`);\n\n  const profQueries = queryTerms.map(term => `{_or: [\n    {name: {_ilike: \"%${term}%\"}},\n    {prof_courses: {course: {code: {_ilike: \"%${term}%\"}}}}\n    {prof_courses: {course: {name: {_ilike: \"%${term}%\"}}}}\n  ]},`);\n\n  const parsedCourseQuery = `{_and: [\n    ${courseQueries.join('')}\n  ]}`;\n\n  const parsedProfQuery = `{_and: [\n    ${profQueries.join('')}\n  ]}`;\n\n  return gql`\n    query EXPLORE_ALL($query: String, $course_offset: Int, $prof_offset: Int) {\n      course(\n        offset: $course_offset,\n        limit: ${SEARCH_RESULTS_PER_PAGE},\n        order_by: ${sort},\n        where: ${parsedCourseQuery}\n      ) {\n        ...CourseInfoFragment\n        ...CourseTermFragment\n        ...CourseReviewAggregateFragment\n      }\n      course_aggregate(where: ${parsedCourseQuery}) {\n        aggregate {\n          count\n        }\n      }\n      prof(\n        offset: $prof_offset,\n        limit: ${SEARCH_RESULTS_PER_PAGE}\n        where: ${parsedProfQuery}\n      ) {\n        ...ProfInfoFragment\n        ...ProfProfReviewsAggregateFragment\n        ...ProfCourseReviewsAggregateFragment\n        ...ProfCoursesTaughtFragment\n      }\n      prof_aggregate(where: ${parsedProfQuery}) {\n        aggregate {\n          count\n        }\n      }\n    }\n    ${CourseFragment.courseInfo}\n    ${CourseFragment.courseTerm}\n    ${ProfFragment.profInfo}\n    ${ProfFragment.profCoursesTaught}\n    ${ReviewFragment.courseReviewAggregate}\n    ${ReviewFragment.profReviewAggregate}\n  `\n};\n","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useQuery } from 'react-apollo';\nimport queryString from 'query-string';\n\nimport {\n  ExplorePageWrapper,\n  ExploreHeaderWrapper,\n  ExploreHeaderText,\n  ColumnWrapper,\n  Column1,\n  Column2,\n} from './styles/ExplorePage';\n\nimport SearchResults from './SearchResults';\nimport SearchFilter from './SearchFilter';\n\nimport {\n  buildExploreCodeQuery,\n  buildExploreQuery\n} from '../../graphql/queries/explore/Explore';\n\nconst NUM_COURSE_CODE_FILTERS = 5;\nconst RATING_FILTERS = [0, 10, 20, 50, 100, 250, 500, 1000];\n\nconst ExplorePageContent = ({\n  query,\n  codeSearch,\n  courseTab,\n  data,\n  fetchMore,\n  loading\n}) => {\n  const [courseCodes, setCourseCodes] = useState(Array(NUM_COURSE_CODE_FILTERS).fill(true));\n  const [numCourseRatings, setNumCourseRatings] = useState(0);\n  const [numProfRatings, setNumProfRatings] = useState(0);\n  const [currentTerm, setCurrentTerm] = useState(false);\n  const [nextTerm, setNextTerm] = useState(false);\n  const [courseTaught, setCourseTaught] = useState(0);\n  const [exploreTab, setExploreTab] = useState(courseTab ? 0 : 1);\n\n  let profCourses = !!data ? data.prof.reduce((acc, prof) => {\n    return acc.concat(prof.prof_courses.map(course => course.code));\n  }, ['any course']) : ['any course'];\n  profCourses = profCourses.filter(code => !!code);\n\n  const filterState = {\n    courseCodes,\n    numCourseRatings,\n    numProfRatings,\n    currentTerm,\n    nextTerm,\n    courseTaught\n  }\n\n  const resetCourseFilters = () => {\n    setCourseCodes(Array(NUM_COURSE_CODE_FILTERS).fill(true));\n    setNumCourseRatings(0);\n    setCurrentTerm(false);\n    setNextTerm(false);\n  }\n\n  const resetProfFilters = () => {\n    setNumProfRatings(0);\n    setCourseTaught(0);\n  }\n\n  return (\n    <ExplorePageWrapper>\n      <ExploreHeaderWrapper>\n        <ExploreHeaderText>\n          {codeSearch\n            ? `Showing all ${query.toUpperCase()} courses and professors`\n            : `Showing results for \"${query}\"`}\n        </ExploreHeaderText>\n      </ExploreHeaderWrapper>\n      <ColumnWrapper>\n        <Column1>\n          <SearchResults\n            filterState={filterState}\n            data={data}\n            exploreTab={exploreTab}\n            setExploreTab={setExploreTab}\n            ratingFilters={RATING_FILTERS}\n            profCourses={profCourses}\n            loading={loading}\n            fetchMore={fetchMore}\n          />\n        </Column1>\n        <Column2>\n          <SearchFilter\n            profCourses={profCourses}\n            filterState={filterState}\n            setCourseCodes={setCourseCodes}\n            setNumRatings={exploreTab === 0 ? setNumCourseRatings : setNumProfRatings}\n            setCurrentTerm={setCurrentTerm}\n            setNextTerm={setNextTerm}\n            setCourseTaught={setCourseTaught}\n            ratingFilters={RATING_FILTERS}\n            resetFilters={exploreTab === 0 ? resetCourseFilters : resetProfFilters}\n            courseSearch={exploreTab === 0}\n          />\n        </Column2>\n    </ColumnWrapper>\n    </ExplorePageWrapper>\n  );\n}\n\nconst ExplorePage = ({ location }) => {\n  const { q: query, t: type, c: code } = queryString.parse(location.search);\n  const courseTab = !type || type === 'course' || type === 'c';\n  const codeSearch = !!code;\n\n  const exploreQuery = codeSearch ? buildExploreCodeQuery : buildExploreQuery;\n\n  const { data, fetchMore, loading } = useQuery(\n    exploreQuery('{course_reviews_aggregate: {count: desc}}', query),\n    {\n      variables: { course_offset: 0, prof_offset: 0 },\n      notifyOnNetworkStatusChange: true\n    }\n  );\n  \n  return (\n    <ExplorePageWrapper>\n      <ExplorePageContent\n        query={query}\n        codeSearch={codeSearch}\n        courseTab={courseTab}\n        data={data}\n        fetchMore={fetchMore}\n        loading={loading}\n      />\n    </ExplorePageWrapper>\n  )\n};\n\nexport default withRouter(ExplorePage);\n"],"sourceRoot":""}