{"version":3,"sources":["../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/cross.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/array.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/threshold/sturges.js","../node_modules/d3-array/src/quantile.js","../node_modules/d3-array/src/index.js","img/404_v1.svg","pages/notFoundPage/styles/NotFoundPage.jsx","pages/notFoundPage/NotFoundPage.jsx","graphql/fragments/ProfFragment.jsx","img/prof_v1.svg","pages/profPage/styles/ProfPage.jsx","pages/profPage/styles/ProfInfoHeader.jsx","pages/profPage/ProfInfoHeader.jsx","data/hooks/UseProfReviewsReducer.jsx","pages/profPage/styles/ProfReviews.jsx","pages/profPage/ProfReviews.jsx","graphql/queries/prof/Prof.jsx","pages/profPage/ProfPage.jsx"],"names":["a","b","NaN","f","compare","length","d","x","ascending","left","lo","hi","mid","right","ascendingBisect","bisector","bisectRight","bisect","Array","prototype","slice","map","start","stop","step","n","arguments","i","Math","max","ceil","range","e10","sqrt","e5","e2","reverse","ticks","count","tickIncrement","isFinite","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","valueof","number","values","p","i0","value0","module","exports","NotFoundPageWrapper","styled","div","PageWrapper","PageHeader","Heading2","theme","primaryExtraDark","breakpoint","HeaderText","PageContent","NotFoundImage","NotFound","withRouter","text","history","displayText","Button","handleClick","push","LANDING_PAGE_ROUTE","ProfFragment","profInfo","gql","profCoursesTaught","ProfPageWrapper","light1","ColumnWrapper","Column1","WideColumn","Column2","ThinColumn","ProfInfoHeaderWrapper","white","ProfNameSection","ProfHeader","ProfNameWrapper","ProfName","Heading1","ratingBoxWidth","ProfDescriptionSection","Description","Heading3","dark2","RatingsSection","ProfInfoHeader","prof","reviews_aggregate","aggregate","avg","liked","prof_clear","prof_engaging","prof_comment_count","profCourses","prof_courses","course","splitCourseCode","code","RATING_BOX_WIDTH","name","ratingBoxHeight","RATING_BOX_HEIGHT","RatingBox","numRatings","numComments","percentages","displayName","percent","join","convertInputToState","data","reviewsByCourse","courses","review","reduce","allCourses","current","courseObject","foundCourseObject","id","reviews","upvotes","prof_review_upvotes_aggregate","upvote_users","prof_review_upvotes","vote","Number","user_id","prof_comment","author","user","created_at","updated_at","metrics","clear","engaging","obj","useProfReviewsReducer","initialState","useState","state","setState","action","newState","currentState","type","payload","processDispatch","ProfCourseReviewWrapper","ProfCourseFilterWrapper","Card","BoxShadow","NoReviewsBox","ReviewsForSingleCourseWrapper","ReviewListWrapper","CourseHeader","CourseNameAndCode","CourseCode","Link","CourseName","DropdownPanelWrapper","light2","DropdownTableText","Heading4","dark1","CourseLikedMetric","CourseLikedPercent","CourseLikedPercentLabel","Body","ShowMoreReviewsSection","light3","ShowMoreReviewsText","withTheme","profID","selectedFilter","setSelectedFilter","fill","selectedSort","setSelectedSort","useQuery","GET_PROF_REVIEW","variables","loading","reviewDataState","dispatchReviews","showingReviewsMap","setShowingReviewsMap","useEffect","LoadingSpinner","courseFilterOptions","courseFilterDisplayOptions","reviewsByCourseToShow","filter","curSelectedSort","DropdownList","color","selectedIndex","options","onChange","value","zIndex","idx","key","to","getCoursePageRoute","round","primary","sort","timeSort","moment","format","_","MIN_REVIEWS_SHOWN","Review","isCourseReview","onClick","GET_PROF","ReviewFragment","profReviewAggregate","ProfPageContent","ProfPage","profCode","match","params","toLowerCase","NotFoundPage"],"mappings":"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","file":"static/js/8.79c61b76.chunk.js","sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import { pair } from \"./pairs\";\nexport default function (values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}","export default function (x) {\n  return x === null ? NaN : +x;\n}","var array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","export default function (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","export default function (values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}","import number from \"./number\";\nexport default function (values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}","export { default as bisect, bisectRight, bisectLeft } from \"./bisect\";\nexport { default as ascending } from \"./ascending\";\nexport { default as bisector } from \"./bisector\";\nexport { default as cross } from \"./cross\";\nexport { default as descending } from \"./descending\";\nexport { default as deviation } from \"./deviation\";\nexport { default as extent } from \"./extent\";\nexport { default as histogram } from \"./histogram\";\nexport { default as thresholdFreedmanDiaconis } from \"./threshold/freedmanDiaconis\";\nexport { default as thresholdScott } from \"./threshold/scott\";\nexport { default as thresholdSturges } from \"./threshold/sturges\";\nexport { default as max } from \"./max\";\nexport { default as mean } from \"./mean\";\nexport { default as median } from \"./median\";\nexport { default as merge } from \"./merge\";\nexport { default as min } from \"./min\";\nexport { default as pairs } from \"./pairs\";\nexport { default as permute } from \"./permute\";\nexport { default as quantile } from \"./quantile\";\nexport { default as range } from \"./range\";\nexport { default as scan } from \"./scan\";\nexport { default as shuffle } from \"./shuffle\";\nexport { default as sum } from \"./sum\";\nexport { default as ticks, tickIncrement, tickStep } from \"./ticks\";\nexport { default as transpose } from \"./transpose\";\nexport { default as variance } from \"./variance\";\nexport { default as zip } from \"./zip\";","module.exports = __webpack_public_path__ + \"static/media/404_v1.530dd1a3.svg\";","import styled from 'styled-components';\nimport breakpoint from 'styled-components-breakpoint';\nimport NotFound from '../../../img/404_v1.svg';\n\nimport { Heading2 , PageContent, PageWrapper } from '../../../constants/Mixins';\n\nexport const NotFoundPageWrapper = styled.div`\n  ${PageWrapper}\n  align-items: center;\n  text-align: center;\n`;\n\nexport const NotFoundText = styled.div`\n  ${Heading2}\n  margin-bottom: 40px;\n`;\n\nexport const PageHeader = styled.div`\n  display: flex;\n  align-items: flex-end;\n  width: 100%;\n  height: 150px;\n  background: ${({ theme }) => theme.primaryExtraDark};\n  padding-bottom: 32px;\n  ${breakpoint('mobile', 'tablet')`\n    height: auto;\n    padding: 32px 16px;\n  `}\n`;\n\nexport const HeaderText = styled.div`\n  ${PageContent}\n  ${Heading2}\n  max-width: 100%;\n  color: white;\n`;\n\nexport const NotFoundImage = styled.div`\n  width: 100%;\n  height: 100vh;\n  margin-bottom: 16px;\n  max-width: 300px;\n  max-height: 300px;\n  background: no-repeat center center url(${NotFound});\n`;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport Button from '../../components/input/Button';\nimport { LANDING_PAGE_ROUTE } from '../../Routes';\n\nimport { NotFoundPageWrapper, NotFoundImage, PageHeader, HeaderText } from './styles/NotFoundPage';\n\nconst NotFoundPage = ({ text, history }) => {\n  const handleClick = () => {\n    history.push(LANDING_PAGE_ROUTE);\n  };\n\n  const displayText = text ? text : `Sorry, this page doesn't exist!`;\n\n  return (\n    <NotFoundPageWrapper>\n      <PageHeader>\n        <HeaderText>{displayText}</HeaderText>\n      </PageHeader>\n      <NotFoundImage />\n      <Button handleClick={handleClick}>Home</Button>\n    </NotFoundPageWrapper>\n  );\n};\n\nNotFoundPage.propTypes = {\n  text: PropTypes.string,\n  history: PropTypes.object.isRequired,\n};\n\nexport default withRouter(NotFoundPage);\n","import gql from 'graphql-tag';\n\nconst ProfFragment = {\n  profInfo: gql`\n    fragment ProfInfoFragment on prof {\n      id\n      name\n      code\n    }\n  `,\n  profCoursesTaught: gql`\n    fragment ProfCoursesTaughtFragment on prof {\n      id\n      prof_courses {\n        course {\n          id\n          code\n        }\n      }\n    }\n  `\n};\n\nexport default ProfFragment;\n","module.exports = __webpack_public_path__ + \"static/media/prof_v1.1bfb3f98.svg\";","import styled from 'styled-components';\nimport breakpoint from 'styled-components-breakpoint';\n\n/* Mixins */\nimport { WideColumn, ThinColumn, PageContent, PageWrapper } from '../../../constants/Mixins';\n\nexport const ProfPageWrapper = styled.div`\n  ${PageWrapper}\n  background-color: ${({ theme }) => theme.light1};\n`;\n\nexport const ColumnWrapper = styled.div`\n  ${PageContent}\n  display: flex;\n  flex-flow: row wrap;\n`;\n\nexport const Column1 = styled.div`\n  ${WideColumn}\n\n  ${breakpoint('mobile', 'tablet')`\n    width: 100%;\n    padding: 0;\n    order: 2;\n  `}\n`;\n\nexport const Column2 = styled.div`\n  ${ThinColumn}\n\n  ${breakpoint('mobile', 'tablet')`\n    width: 100%;\n    order: 1;\n  `}\n`;\n","import styled from 'styled-components';\nimport breakpoint from 'styled-components-breakpoint';\nimport ProfHeader from '../../../img/prof_v1.svg';\n\n/* Mixins */\nimport { Heading1, Heading3, PageContent } from '../../../constants/Mixins';\n\nexport const ProfInfoHeaderWrapper = styled.div`\n  width: 100%;\n  margin-bottom: 32px;\n  display: flex;\n  background-color: ${({ theme }) => theme.white};\n  flex-direction: column;\n  position: relative;\n`;\n\nexport const ProfNameSection = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  background-image: url(${ProfHeader});\n  background-color: ${({ theme }) => theme.primaryExtraDark};\n  background-size: cover;\n  position: relative;\n  min-height: 120px;\n  padding: 16px;\n\n  ${breakpoint('mobile', 'tablet')`\n    padding: 24px 16px;\n  `}\n\n  ${breakpoint('tablet')`\n    min-height: 320px;\n  `}\n`;\n\nexport const ProfNameWrapper = styled.div`\n  ${PageContent}\n  margin: auto;\n  margin-bottom: 48px;\n\n  ${breakpoint('mobile', 'tablet')`\n    margin-bottom: 0;\n  `}\n`;\n\nexport const ProfName = styled.div`\n  color: ${({ theme }) => theme.white};\n  ${Heading1}\n\n  ${breakpoint('mobile', 'tablet')`\n    padding: 0 16px;\n    min-width: 100%;\n  `}\n\n  ${breakpoint('tablet')`\n    max-width: calc(100% - ${({ ratingBoxWidth }) => ratingBoxWidth}px);\n  `}\n`;\n\nexport const ProfDescriptionSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  position: relative;\n\n  ${breakpoint('tablet')`\n    ${PageContent}\n    padding-bottom: 48px;\n    margin: auto;\n  `}\n`;\n\nexport const Description = styled.div`\n  ${Heading3}\n  position: relative;\n  margin: auto 0;\n  max-width: calc(100% - ${({ ratingBoxWidth }) => ratingBoxWidth}px);\n  vertical-align: middle;\n  color: ${({ theme }) => theme.dark2};\n\n  ${breakpoint('mobile', 'tablet')`\n    margin-bottom: 16px;\n    padding: 0 16px;\n    min-width: 100%;\n  `}\n\n  ${breakpoint('tablet')`\n    margin-top: 48px;\n    max-width: calc(100% - ${({ ratingBoxWidth }) => ratingBoxWidth}px);\n  `}\n`;\n\nexport const RatingsSection = styled.div`\n  ${breakpoint('mobile', 'tablet')`\n    width: 100%;\n  `}\n\n  ${breakpoint('tablet')`\n    position: absolute;\n    right: 0;\n    bottom: 32px;\n  `}\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/* Styled Components */\nimport {\n  ProfInfoHeaderWrapper,\n  ProfNameSection,\n  ProfNameWrapper,\n  ProfDescriptionSection,\n  ProfName,\n  Description,\n  RatingsSection,\n} from './styles/ProfInfoHeader';\n\n/* Child Components */\nimport RatingBox, {\n  RATING_BOX_HEIGHT,\n  RATING_BOX_WIDTH,\n} from '../../components/display/RatingBox';\n\nimport { splitCourseCode } from '../../utils/Misc';\n\nconst ProfInfoHeader = ({ prof }) => {\n  const { liked, prof_clear, prof_engaging } = prof.reviews_aggregate.aggregate.avg;\n  const { count, prof_comment_count } = prof.reviews_aggregate.aggregate;\n  const profCourses = prof.prof_courses.map(course => splitCourseCode(course.course.code));\n\n  return (\n    <ProfInfoHeaderWrapper>\n      <ProfNameSection>\n        <ProfNameWrapper>\n          <ProfName ratingBoxWidth={RATING_BOX_WIDTH}>{prof.name}</ProfName>\n        </ProfNameWrapper>\n      </ProfNameSection>\n      <ProfDescriptionSection>\n        <RatingsSection ratingBoxHeight={RATING_BOX_HEIGHT}>\n          <RatingBox\n            numRatings={count}\n            numComments={prof_comment_count}\n            percentages={[\n              {\n                displayName: 'Likes',\n                percent: liked,\n              },\n              {\n                displayName: 'Clear',\n                percent: prof_clear / 5,\n              },\n              {\n                displayName: 'Engaging',\n                percent: prof_engaging / 5,\n              },\n            ]}\n          />\n        </RatingsSection>\n        <Description ratingBoxWidth={RATING_BOX_WIDTH}>\n          {profCourses.length > 0\n            ? `Currently teaches ${profCourses.join(', ')}`\n            : 'Not currently teaching anything'}\n        </Description>\n      </ProfDescriptionSection>\n    </ProfInfoHeaderWrapper>\n  );\n};\n\nProfInfoHeader.propTypes = {\n  prof: PropTypes.object,\n};\n\nexport default ProfInfoHeader;\n","import { useState } from 'react';\n\nexport const UPDATE_REVIEW_DATA = 'update review data';\n\nconst convertInputToState = data => {\n  if (!data) {\n    return {\n      reviewsByCourse: [],\n      courses: [],\n    };\n  }\n  const reviewsByCourse = data.review.reduce((allCourses, current) => {\n    let courseObject;\n    let foundCourseObject = false;\n    for (let i of allCourses) {\n      if (current.course && current.course.id === i.id) {\n        courseObject = i;\n        foundCourseObject = true;\n        break;\n      }\n    }\n    if (!foundCourseObject) {\n      courseObject = {\n        id: current.course ? current.course.id : -1,\n        name: current.course ? current.course.name : '',\n        code: current.course ? current.course.code : '',\n        liked: current.course\n          ? current.course.reviews_aggregate.aggregate.avg.liked\n          : 0,\n        reviews: [],\n      };\n      allCourses.push(courseObject);\n    }\n    courseObject.reviews.push({\n      id: current.id,\n      upvotes: current.prof_review_upvotes_aggregate.aggregate.count,\n      upvote_users: current.prof_review_upvotes.map(vote => Number(vote.user_id)),\n      review: current.prof_comment,\n      author: current.author,\n      user: current.user,\n      created_at: current.created_at,\n      updated_at: current.updated_at,\n      metrics: {\n        clear: current.prof_clear,\n        engaging: current.prof_engaging,\n      },\n    });\n    return allCourses;\n  }, []);\n\n  const courses = reviewsByCourse.map(obj => obj.code);\n\n  return {\n    reviewsByCourse,\n    courses,\n  };\n};\n\nconst processDispatch = (currentState, action) => {\n  switch (action.type) {\n    case UPDATE_REVIEW_DATA:\n      return convertInputToState(action.payload);\n    default:\n      return currentState;\n  }\n};\n\nconst useProfReviewsReducer = initialState => {\n  const [state, setState] = useState(convertInputToState(initialState));\n\n  const dispatch = action => {\n    const newState = processDispatch(state, action);\n    setState(newState);\n  };\n\n  return [state, dispatch];\n};\n\nexport default useProfReviewsReducer;\n","import styled from 'styled-components';\nimport breakpoint from 'styled-components-breakpoint';\nimport { Link } from 'react-router-dom';\n\nimport {\n  Card,\n  Heading2,\n  Body,\n  Heading4,\n  Heading1,\n  BoxShadow,\n  Heading3,\n} from '../../../constants/Mixins';\n\nexport const ProfCourseReviewWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  color: ${({ theme }) => theme.dark2};\n`;\n\nexport const ProfCourseFilterWrapper = styled.div`\n  ${Card()}\n  ${BoxShadow}\n  padding-bottom: 0;\n  padding-top: 16px;\n  margin-bottom: 32px;\n\n  ${breakpoint('mobile', 'tablet')`\n    padding: 32px 0 0 0;\n  `}\n`;\n\nexport const NoReviewsBox = styled.div`\n  display: flex;\n  padding: 32px;\n  background: white;\n  align-items: center;\n  justify-content: flex-start;\n  ${Heading3}\n  color: ${({ theme }) => theme.dark2}\n`;\n\nexport const ReviewsForSingleCourseWrapper = styled.div`\n  ${Card('0')}\n  ${BoxShadow}\n  padding-bottom: 0;\n  margin-bottom: 32px;\n`;\n\nexport const ReviewListWrapper = styled.div`\n  ${breakpoint('tablet')`\n    padding: 32px 32px 0 32px;\n  `}\n`;\n\nexport const CourseRatings = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const CourseHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  margin-right: 24px;\n\n  ${breakpoint('mobile', 'tablet')`\n    flex-direction: column;\n    align-items: flex-start;\n    margin-bottom: 0;\n  `}\n`;\n\nexport const CourseNameAndCode = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const CourseCode = styled(Link)`\n  ${Heading2}\n  color: ${({ theme }) => theme.courses};\n  margin-bottom: 16px;\n\n  ${breakpoint('mobile', 'tablet')`\n    margin: 16px 16px 0 16px;\n  `}\n`;\n\nexport const CourseName = styled.div`\n  ${Heading2}\n  font-size: 24px;\n\n  ${breakpoint('mobile', 'tablet')`\n    margin: 16px 16px 0 16px;\n  `}\n`;\n\nexport const DropdownPanelWrapper = styled.div`\n  display: flex;\n  margin: 16px 32px 32px 0;\n  align-items: center;\n\n  ${breakpoint('mobile', 'tablet')`\n    padding: 24px 16px;\n    border-bottom: 1px solid ${({ theme }) => theme.light2};\n    background-color: white;\n    margin: 0 0 32px 0;\n  `}\n`;\n\nexport const DropdownTableText = styled.div`\n  ${Heading4}\n  color: ${({ theme }) => theme.dark1};\n`;\n\nexport const CourseLikedMetric = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${breakpoint('mobile', 'tablet')`\n    margin: 8px 16px 0 16px;\n  `}\n`;\n\nexport const CourseLikedPercent = styled.div`\n  ${Heading1}\n\n  ${breakpoint('mobile', 'tablet')`\n    font-size: 32px;\n  `}\n`;\n\nexport const CourseLikedPercentLabel = styled.div`\n  ${Body}\n  width: 64px;\n  margin-left: 16px;\n\n  ${breakpoint('mobile', 'tablet')`\n    width: 100%;\n  `}\n`;\n\nexport const ShowMoreReviewsSection = styled.div`\n  background: ${({ theme }) => theme.light3};\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  cursor: pointer;\n`;\n\nexport const ShowMoreReviewsText = styled.div`\n  ${Heading4}\n  cursor: pointer;\n`;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useQuery } from 'react-apollo';\nimport { withTheme } from 'styled-components';\nimport moment from 'moment';\n\n/* Custom Reducers */\nimport useProfReviewsReducer, {\n  UPDATE_REVIEW_DATA,\n} from '../../data/hooks/UseProfReviewsReducer';\n\n/* Styled Components */\nimport {\n  ProfCourseReviewWrapper,\n  ReviewsForSingleCourseWrapper,\n  ReviewListWrapper,\n  NoReviewsBox,\n  CourseHeader,\n  CourseNameAndCode,\n  CourseCode,\n  CourseName,\n  DropdownPanelWrapper,\n  DropdownTableText,\n  CourseLikedMetric,\n  CourseLikedPercent,\n  CourseLikedPercentLabel,\n  ProfCourseFilterWrapper,\n  ShowMoreReviewsSection,\n  ShowMoreReviewsText,\n} from './styles/ProfReviews';\n\n/* Child Components */\nimport Review from '../../components/display/Review';\nimport DropdownList from '../../components/input/DropdownList';\nimport LoadingSpinner from '../../components/display/LoadingSpinner';\n\n/* GraphQL Queries */\nimport { GET_PROF_REVIEW } from '../../graphql/queries/prof/ProfReview.jsx';\n\nimport { splitCourseCode } from '../../utils/Misc';\nimport { getCoursePageRoute } from '../../Routes';\nimport { MIN_REVIEWS_SHOWN } from '../../constants/PageConstants';\n\nconst ProfReviews = ({ profID, theme }) => {\n  const [selectedFilter, setSelectedFilter] = useState(0);\n  const [selectedSort, setSelectedSort] = useState(Array(1).fill(0));\n  const { loading, data } = useQuery(GET_PROF_REVIEW, {\n    variables: { id: profID },\n  });\n  const [reviewDataState, dispatchReviews] = useProfReviewsReducer(data);\n  const [showingReviewsMap, setShowingReviewsMap] = useState({});\n\n  useEffect(() => {\n    if (data) {\n      dispatchReviews({\n        type: UPDATE_REVIEW_DATA,\n        payload: data,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  if (loading) {\n    return (\n      <ProfCourseReviewWrapper>\n        <LoadingSpinner />\n      </ProfCourseReviewWrapper>\n    );\n  }\n\n  const courseFilterOptions = ['show all courses', ...reviewDataState.courses];\n  const courseFilterDisplayOptions = [\n    'show all courses',\n    ...reviewDataState.courses.map(code => splitCourseCode(code)),\n  ];\n\n  const reviewsByCourseToShow = reviewDataState.reviewsByCourse.filter(\n    reviews =>\n      selectedFilter === 0 ||\n      reviews.code === courseFilterOptions[selectedFilter],\n  );\n\n  const curSelectedSort = selectedSort.length >= reviewsByCourseToShow.length ?\n    selectedSort.slice() :\n    [...selectedSort, ...Array(reviewsByCourseToShow.length - selectedSort.length).fill(0)];\n\n  if (reviewDataState.courses.length === 0) {\n    return <NoReviewsBox>No Reviews</NoReviewsBox>;\n  }\n\n  return (\n    <ProfCourseReviewWrapper>\n      <ProfCourseFilterWrapper>\n        <DropdownPanelWrapper>\n          <DropdownTableText>Filter by course: </DropdownTableText>\n          <DropdownList\n            color={theme.courses}\n            selectedIndex={selectedFilter}\n            options={courseFilterDisplayOptions}\n            onChange={value => setSelectedFilter(value)}\n            zIndex={5}\n          />\n        </DropdownPanelWrapper>\n      </ProfCourseFilterWrapper>\n      {reviewsByCourseToShow.map((course, idx) => {\n        return (\n          <ReviewsForSingleCourseWrapper key={idx}>\n            <ReviewListWrapper>\n              <CourseHeader key={course.id}>\n                <CourseNameAndCode>\n                  <CourseCode to={getCoursePageRoute(course.code)}>\n                    {splitCourseCode(course.code)}\n                  </CourseCode>\n                  <CourseName>{course.name}</CourseName>\n                </CourseNameAndCode>\n                <CourseLikedMetric>\n                  <CourseLikedPercent>\n                    {Math.round(course.liked * 100)}%\n                  </CourseLikedPercent>\n                  <CourseLikedPercentLabel>\n                    liked this course\n                  </CourseLikedPercentLabel>\n                </CourseLikedMetric>\n              </CourseHeader>\n              <DropdownPanelWrapper>\n                <DropdownTableText>Sort by: </DropdownTableText>\n                <DropdownList\n                  color={theme.primary}\n                  selectedIndex={curSelectedSort[idx]}\n                  options={['most recent', 'most helpful']}\n                  onChange={value => {\n                    curSelectedSort[idx] = value;\n                    setSelectedSort(curSelectedSort);\n                  }}\n                />\n              </DropdownPanelWrapper>\n              {course.reviews.sort((a, b) => {\n                const timeSort = moment(b.created_at).format('YYYYMMDD') - moment(a.created_at).format('YYYYMMDD');\n                return selectedSort[idx] === 0 ?\n                  timeSort : b.upvotes === a.upvotes ? timeSort : b.upvotes - a.upvotes;\n              }).filter((_, i) => {\n                return i < MIN_REVIEWS_SHOWN || showingReviewsMap[course.code];\n              }).map((review, i) => (\n                <Review key={i} review={review} isCourseReview={false} />\n              ))}\n            </ReviewListWrapper>\n            {course.reviews.length > MIN_REVIEWS_SHOWN && (\n              <ShowMoreReviewsSection\n                onClick={() =>\n                  setShowingReviewsMap({\n                    ...showingReviewsMap,\n                    [course.code]: !showingReviewsMap[course.code],\n                  })\n                }\n              >\n                <ShowMoreReviewsText>\n                  {showingReviewsMap[course.code]\n                    ? `Show less reviews`\n                    : `Show all ${course.reviews.length} reviews`}\n                </ShowMoreReviewsText>\n              </ShowMoreReviewsSection>\n            )}\n          </ReviewsForSingleCourseWrapper>\n        );\n      })}\n    </ProfCourseReviewWrapper>\n  );\n};\n\nProfReviews.propTypes = {\n  profID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withTheme(ProfReviews);\n","import gql from 'graphql-tag';\n\nimport ProfFragment from '../../fragments/ProfFragment.jsx';\nimport ReviewFragment from '../../fragments/ReviewFragment.jsx';\n\nexport const GET_PROF = gql`\n  query GET_PROF($code: String) {\n    prof(where: { code: { _eq: $code } }) {\n      ...ProfInfoFragment\n      ...ProfCoursesTaughtFragment\n      ...ProfReviewAggregateFragment\n    }\n  }\n  ${ProfFragment.profInfo}\n  ${ProfFragment.profCoursesTaught}\n  ${ReviewFragment.profReviewAggregate}\n`;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useQuery } from 'react-apollo';\n\n/* Styled Components */\nimport {\n  ProfPageWrapper,\n  ColumnWrapper,\n  Column1,\n  Column2,\n} from './styles/ProfPage';\n\n/* Child Components */\nimport LoadingSpinner from '../../components/display/LoadingSpinner';\nimport NotFoundPage from '../../pages/notFoundPage/NotFoundPage';\nimport ProfInfoHeader from './ProfInfoHeader';\nimport ProfReviews from './ProfReviews';\n\n/* Queries */\nimport { GET_PROF } from '../../graphql/queries/prof/Prof';\n\nconst ProfPageContent = ({ prof }) => {\n  return (\n    <>\n      <ProfInfoHeader prof={prof} />\n      <ColumnWrapper>\n        <Column1>\n          <ProfReviews profID={prof.id} />\n        </Column1>\n        <Column2 />\n      </ColumnWrapper>\n    </>\n  );\n};\n\nexport const ProfPage = ({ match }) => {\n  const profCode = match.params.profCode.toLowerCase();\n  const { loading, error, data } = useQuery(GET_PROF, {\n    variables: { code: profCode },\n  });\n\n  return loading ? (\n    <ProfPageWrapper>\n      <LoadingSpinner />\n    </ProfPageWrapper>\n  ) : error || !data || data.prof.length === 0 ? (\n    <NotFoundPage text=\"Sorry, we couldn't find that professor!\" />\n  ) : (\n    <ProfPageWrapper>\n      <ProfPageContent prof={data.prof[0]} />\n    </ProfPageWrapper>\n  );\n};\n\nexport default withRouter(ProfPage);\n"],"sourceRoot":""}